<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/typescript/7-generics.md
	@page typescript/generics
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bitovi University - Generics</title>
	
	<link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
	
</head>

<body>
	<header></header>
	<div class="content">
	
		<nav class="sidebar">
	
		
			<ul>
				<li class="">
					<a class="home" href="../index.html" title="Home">
						Home
					</a>
				</li>
			</ul>
		
		
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../advanced-javascript-training.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../dom-jquery-training.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../debugging-javascript-training.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							TypeScript
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="why-typescript.html"
							title="Learn why TypeScript has secured a place in the JavaScript ecosystem and how to write + compile TypeScript.">
							Why TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="ide-support.html"
							title="Learn about TypeScript configurations and IDES good for TypeScript Development.">
							IDE Support
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="types.html"
							title="Learn how to declare types in TypeScript.">
							Types
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="functions.html"
							title="Learn how to annotate functions parameters and return values, use different parameter types available, and bind this.">
							Functions
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="classes.html"
							title="Learn to use classes and inheritance in TypeScript, about the constructor method, and how to use public, private, protected, and readonly modifiers.">
							Classes
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="interfaces.html"
							title="Learn how to write Interfaces, set optional properties, and about the power of using interfaces in classes and functions">
							Interfaces
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="generics.html"
							title="Learn about what Generics are, why they are useful, and how to create a linked list using Generics in TypeScript.">
							Generics
						</a>
						
							

						
					</li>
				
			
		
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../react.html"
							title="This guide introduces React, the things you should learn before approaching React, and some advanced React topics.">
							React
						</a>
						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../RxJS.html"
							title="Learn RxJS by creating a validating credit card form.">
							RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../angular.html"
							title="Learn the basics of Angular.">
							Angular
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
	</ul>


	
</nav>

	
	<article class="main">
		
			<section class="title">
	<h1>Generics <code>page</code></h1>
</section>

		

		
			
				<section class="description">
    <p>Learn about what Generics are, why they are useful, and how to create a linked list using Generics in TypeScript.</p>

</section>

			
		

		
			
				
			
			
				<section class="body">
    <h2>Overview</h2>
<p>In this part, we will:</p>
<ul>
<li>Understand the purpose and basics of generic functions</li>
<li>Understand how to make generic classes</li>
<li>Understand how to make recursive generic classes</li>
<li>Create a TreeNode recursive generic class</li>
</ul>
<h2>Basic Generics</h2>
<p>Generics are a way of writing abstract code that allows the determination of types to be handled when the code is used. Generics let us reuse code for different types and improve maintainability. Lets see how with a small example.</p>
<p>Consider a function that wraps a value in an object:</p>
<pre><code class="language-js">function wrapAsValue(value) {
    return {value: value};
}
</code></pre>
<p>Ideally, you'd want to use this function to wrap all sorts of values:</p>
<pre><code class="language-js">let fourObj = wrapAsValue(4);  //-&gt; {value: 4}
let hiObj = wrapAsValue(&quot;hi&quot;); //-&gt; {value: &quot;hi&quot;}
</code></pre>
<p>And you might want to pass those objects to other functions:</p>
<pre><code class="language-js">function getDollars(obj: {value: number}){
    return &quot;$&quot;+obj.value.toFixed(2)
}

function getMessage(obj: {value: string}) {
    return obj.value + &quot; world&quot;;
}

getDollars(fourObj); //-&gt; &quot;$4.00&quot;
getMessage(hiObj);   //-&gt; &quot;hi world&quot;
</code></pre>
<p><strong>But watch out!</strong>  The following will <strong>not</strong> error until <em>runtime</em>
because strings do not have a <code>toFixed()</code> method.</p>
<pre><code class="language-js">getDollars(hiObj);  
</code></pre>
<p>You don't see a compile time error because <code>hiObj</code> object looks like <code>{value: any}</code> to TypeScript.</p>
<p>Getting a compile time error can be solved in a variety of <strong>inelegant</strong> ways:</p>
<ul>
<li>Define the type of the variables:
<pre><code class="language-typescript">let fourObj: {value: number} = wrapAsValue(4);
let hiObj:   {value: string} = wrapAsValue(&quot;hi&quot;);
</code></pre></li>
<li>Write multiple functions:
<pre><code class="language-typescript">function wrapStringAsValue(value: string) {
  return {value: value};
}
function wrapNumberAsValue(value: number) {
  return {value: value};
}
</code></pre></li>
<li>Overload <code>wrapAsValue</code> signatures:
<pre><code class="language-typescript">function wrapAsValue(value: string): {value: string};
function wrapAsValue(value: number): {value: number};
function wrapAsValue(value: any) {
    return {value: value};
}
</code></pre></li>
</ul>
<p>With <strong>generics</strong>, this problem can be solved more simply:</p>
<pre><code class="language-typescript">function wrapAsValue&lt;MyType&gt;(value: MyType): {value: MyType} {
    return {value: value};
}

let fourObj = wrapAsValue&lt;number&gt;(4);
let hiObj = wrapAsValue(&quot;hi&quot;);


function getDollars(obj: {value: number}){
    return &quot;$&quot;+obj.value.toFixed(2)
}

function getMessage(obj: {value: string}) {
    return obj.value + &quot; world&quot;;
}

getDollars(fourObj);
getMessage(hiObj);
getDollars(hiObj);

</code></pre>
<div class='codepen'></div>
<div line-highlight='1-6,only'></div>
<p>The <code>&lt;MyType&gt;</code> part of the <code>wrapAsValue</code> definition is the <strong>Generics</strong>
part. This <code>&lt;MyType&gt;</code> allows us to capture the type the user provides, so that we can use that information later. In this case, we are using it to specify that the
return type is an object with a <code>MyType</code> <code>value</code>
property (<code>{value: MyType}</code>). This allows us to traffic that type information in one side of the function and out the other.</p>
<p>We can call generic functions in two ways:</p>
<ul>
<li><p>We can explicitly pass the type:</p>
<pre><code class="language-typescript"> wrapAsValue&lt;number&gt;(4)
</code></pre>
<p>Notice that <code>&lt;number&gt;</code> acts as a special set of arguments. Instead of
arguments passed like <code>func(arg1, arg2, arg3)</code>, generic type arguments
are passed like <code>func&lt;Type1, Type2, Type3&gt;</code>.</p></li>
<li><p>The type can be inferred:</p>
<pre><code class="language-typescript">wrapAsValue(&quot;hi&quot;)
</code></pre>
<p>Notice that we didn't explicitly pass the type n the angle brackets (<code>&lt;&gt;</code>). Instead,
the compiler just looked at the value <code>&quot;hi&quot;</code> and set <code>MyType</code> to <code>string</code>.</p></li>
</ul>
<h2>Generic Classes</h2>
<p>Generic classes are quite common.  For example, <a href="../RxJS.html" title="Learn RxJS by creating a validating credit card form.">RxJS</a> subjects are a generic class that can publish values of a particular type:</p>
<pre><code class="language-typescript">const cardNumber = new Subject&lt;string&gt;();

cardNumber.next(&quot;1234&quot;)
</code></pre>
<p>Let's look at making a basic class to collect a list of things.</p>
<pre><code class="language-typescript">class Collection {
  private list: any[];
  push(thing) {
    this.list.push(thing);
  }
}
</code></pre>
<div class='codepen'></div>
<p>The good - we can push any type to this list.<br />
The bad - we can push any type to this list.</p>
<pre><code class="language-typescript">let myList = Collection();
myList.push(25);
myList.push('25');
</code></pre>
<div class='codepen'></div>
<p><code>myList</code> now holds an assortment of types and will be a likely source of
runtime errors.</p>
<p>Let's build a <strong>generic</strong> <code>Collection</code> class instead.</p>
<pre><code class="language-typescript">class GenericCollection&lt;T&gt; {
  private list: T[] = [];
  pushItem( thing:T ) {
    this.list.push(thing);
  }
}
</code></pre>
<div class='codepen'></div>
<p>Now when we initialize this class we can specify a type to use.</p>
<pre><code class="language-typescript">class GenericCollection&lt;T&gt; {
  private list: T[] = [];
  pushItem(thing:T) {
    this.list.push(thing);
  }
}

let myListOfStrings = new GenericCollection&lt;string&gt;();
myListOfStrings.pushItem('booop');
myListOfStrings.pushItem(5);
//error Argument type of '5' is not assignable to parameter of type 'string'


let myListOfNumbers = new GenericCollection&lt;number&gt;();
myListOfNumbers.pushItem(5);
myListOfNumbers.pushItem('boop');
//error Argument type of '&quot;boop&quot;' is not assignable to parameter of type 'number'

interface Dinosaur {
  name: string;
  breed: string;
  teeth: number;
}

let myListOfDinosaurs = new GenericCollection&lt;Dinosaur&gt;();
let otherDino = {
  name: 'Blue',
  breed: 'Velociraptor',
  teeth: 100
}

myListOfDinosaurs.pushItem(otherDino);

myListOfDinosaurs.pushItem({name: 'Charlie'});
//error Argument type '{ name: string; }' is not assignable to parameter of type 'Dinosaur'.
</code></pre>
<div class='codepen'></div>
<h2>Recursive Generic Classes</h2>
<p>A great example of the power of generics is creating a linked list with type safety.</p>
<p>The following is an example of a linked list for strings:</p>
<pre><code class="language-html">&lt;script type=&quot;typescript&quot;&gt;
class LinkedListItem {
  value: string;
  next?: LinkedListItem;
}

class LinkedList {
  private head: LinkedListItem;
  constructor(item: LinkedListItem) {
    this.head = item;
  }

  insert(val, previousItem: LinkedListItem) {
    let newItem: LinkedListItem = new LinkedListItem(val);
    let currentItem: LinkedListItem = this.head;

    if (!currentItem) {
        this.head = newItem;
    } else {
        while (true) {
            if (currentItem === previousItem) {
                let tempNextItem = previousItem.next;
                currentItem.next = newItem;
                newItem.next = tempNextItem;
                break;
            } else {
                currentItem = currentItem.next;
            }
        }
    }
  }

  append(val) {
    let currentItem: LinkedListItem = this.head;
    let newItem = new LinkedListItem(val);

    if (!currentItem) {
        this.head = newItem;
    } else {
        while (true) {
            if (currentItem.next) {
                currentItem = currentItem.next;
            } else {
                currentItem.next = newItem;
                break;
            }
        }
    }
  }

  prepend(val) {
    let newItem = new LinkedListItem(val);
    let oldHead = this.head;

    this.head = newItem;
    newItem.next = oldHead;
  }

  delete(val) {
    var currentItem = this.head;

    if (!currentItem) {
        return;
    }

    if (currentItem.value === val) {
        this.head = currentItem.next;
    } else {
        var previous = null;

        while (true) {
            if (currentItem.value === val) {
                if (currentItem.next) { // special case for last element
                    previous.next = currentItem.next;
                } else {
                    previous.next = null;
                }
                currentItem = null; // avoid memory leaks
                break;
            } else {
                previous = currentItem;
                currentItem = currentItem.next;
            }
        }
    }
  }

  showInArray() {
    let arr = [];
    let currentItem = this.head;

    while (true) {
        arr.push(currentItem.value);

        if (currentItem.next) {
            currentItem = currentItem.next;
        } else {
            break;
        }
    }

    return arr;
  }
}
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p>Let's look at transforming this to use generics to use this list for more than just strings. First, we change our interface to take a generic type.</p>
<pre><code class="language-html">&lt;script type=&quot;typescript&quot;&gt;
interface LinkedListItem&lt;T&gt; {
    value: T;
    next?: LinkedListItem&lt;T&gt;;
}
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p>The angle brackets with the T indicate that we have a type variable <code>&lt;T&gt;</code>, and can take what the user provides between the brackets when using the interface. For example, a string:</p>
<pre><code class="language-html">&lt;script type=&quot;typescript&quot;&gt;
class LinkedListItem&lt;T&gt; {
  value: T;
  next?: LinkedListItem&lt;T&gt;;

  constructor(val) {
    this.value = val;
    this.next = null;
  }
}

function createNewItem(val: string) {
  let newItem = new LinkedListItem&lt;string&gt;(val);
  console.log(newItem.value);
}

createNewItem(5);
//Argument of type '5' is not assignable to parameter of type 'string'.
createNewItem('five');  
//Logs &quot;five&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<div line-highlight='13'></div>
<p>Next we can refactor our class to take our new generic.</p>
<pre><code class="language-html">&lt;script type=&quot;typescript&quot;&gt;
class LinkedListItem&lt;T&gt; {
    value: T;
    next?: LinkedListItem&lt;T&gt;;
  
    constructor(val) {
      this.value = val;
      this.next = null;
    }
  }

class LinkedList&lt;T&gt; {
  private head: LinkedListItem&lt;T&gt;;
  constructor(item: LinkedListItem&lt;T&gt;) {
    this.head = item;
  }

  insert(val, previousItem: LinkedListItem&lt;T&gt;) {
    let newItem: LinkedListItem&lt;T&gt; = new LinkedListItem&lt;T&gt;(val);
    let currentItem: LinkedListItem&lt;T&gt; = this.head;

    if (!currentItem) {
        this.head = newItem;
    } else {
        while (true) {
            if (currentItem === previousItem) {
                let tempNextItem = previousItem.next;
                currentItem.next = newItem;
                newItem.next = tempNextItem;
                break;
            } else {
                currentItem = currentItem.next;
            }
        }
    }
  }

  append(val) {
    let currentItem: LinkedListItem&lt;T&gt; = this.head;
    let newItem = new LinkedListItem&lt;T&gt;(val);

    if (!currentItem) {
        this.head = newItem;
    } else {
        while (true) {
            if (currentItem.next) {
                currentItem = currentItem.next;
            } else {
                currentItem.next = newItem;
                break;
            }
        }
    }
  }

  prepend(val) {
    let newItem = new LinkedListItem&lt;T&gt;(val);
    let oldHead = this.head;

    this.head = newItem;
    newItem.next = oldHead;
  }

  delete(val) {
    var currentItem = this.head;

    if (!currentItem) {
        return;
    }

    if (currentItem.value === val) {
        this.head = currentItem.next;
    } else {
        var previous = null;

        while (true) {
            if (currentItem.value === val) {
                if (currentItem.next) { // special case for last element
                    previous.next = currentItem.next;
                } else {
                    previous.next = null;
                }
                currentItem = null; // avoid memory leaks
                break;
            } else {
                previous = currentItem;
                currentItem = currentItem.next;
            }
        }
    }
  }

  showInArray() {
    let arr = [];
    let currentItem = this.head;

    while (true) {
        arr.push(currentItem.value);

        if (currentItem.next) {
            currentItem = currentItem.next;
        } else {
            break;
        }
    }

    return arr;
  }
}

let myNumberList = new LinkedList&lt;number&gt;({value: 5});
myNumberList.append(6);
myNumberList.append(3);
myNumberList.prepend(7);

console.log(myNumberList.showInArray());
//Logs &quot;[7, 5, 6, 3]&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<div line-highlight='12,13,14'></div>
<p>Thanks to generics we're able to use the same <code>LinkedList</code> class in multiple different scenarios with any type.</p>
<h2>Exercise: <code>TreeNode</code></h2>
<h3>The Problem</h3>
<p>Update the <code>6-tree-node.ts</code> file to create a recursive <code>TreeNode</code> class that can house a <code>value</code> and be used to create a tree structure of <code>left</code> and <code>right</code> nodes.</p>
<p>For example, we will be able to create a <code>TreeNode</code> with a root value and
comparison function as follows:</p>
<pre><code class="language-typescript">function stringComparison(v1: string, v2: string): number {
    if(v1 &gt; v2) {
        return 1;
    } else {
        return -1;
    }
};

let root = new TreeNode&lt;string&gt;(&quot;Jennifer&quot;, stringComparison);
</code></pre>
<p>Then we can add values to <code>root</code> like:</p>
<pre><code class="language-typescript">root.add(&quot;Chasen&quot;);
</code></pre>
<p>This will add <code>Chasen</code> to a <code>left</code> <code>TreeNode</code> of <code>root</code> because
the <code>stringComparison</code> will return <code>1</code> (<code>Jennifer &gt; Chasen</code>):</p>
<pre><code class="language-typescript">root.left.value //-&gt; &quot;Chasen&quot;
</code></pre>
<p>As we add other values, they will be added to either the right or left nodes
recursively:</p>
<pre><code class="language-js">root.add(&quot;Tom&quot;);
root.add(&quot;Matthew&quot;);

root.right.value      //-&gt; &quot;Tom&quot;
root.right.left.value //-&gt; &quot;Matthew&quot;
</code></pre>
<p>Run the following to verify your solution:</p>
<pre><code class="language-shell">npm run 6-generics
</code></pre>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-typescript">interface Comparison&lt;T&gt; {
    (v1:T,v2: T): number;
}

class TreeNode&lt;T&gt; {

    value: T;
    compare: Comparison&lt;T&gt;;
    left?: TreeNode&lt;T&gt;;
    right?: TreeNode&lt;T&gt;;

    constructor(val: T, compare: Comparison&lt;T&gt; ) {
        this.value = val;
        this.compare = compare;
    }

    add(val: T){
        if( this.compare(this.value, val) &gt;= 1 ) {
            if(this.left == null) {
                this.left = new TreeNode&lt;T&gt;(val, this.compare);
            } else {
                this.left.add(val);
            }

        } else {
            if(this.right == null) {
                this.right = new TreeNode&lt;T&gt;(val, this.compare);
            } else {
                this.right.add(val);
            }
        }
    }
}

export default TreeNode;
</code></pre>
<p></details></p>

</section>

			
		
	</article>
</div>

	<footer></footer>

	<script type="text/javascript">
		var docObject = {"src":{"path":"src/typescript/7-generics.md"},"description":"Learn about what Generics are, why they are useful, and how to create a linked list using Generics in TypeScript. \n","name":"typescript/generics","title":"Generics","type":"page","parent":"typescript","order":7,"comment":" ","pathToRoot":"../.."};
	</script>

	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/bit-docs-site/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript'
				data-main="bit-docs-site/static"
				src="../static/steal.production.js"></script>
	

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-29"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-2302003-29');
</script>

</body>

</html>
