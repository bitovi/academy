<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/advanced-typescript/03-index-accessed-types/index-accessed-types.md
	@page advanced-typescript/index-accessed-types
######################################################################## -->
<html lang="en">
<head>
  <!-- TEMP TEST COMMENT ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ðŸŽ‰ -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn how to look up types of properties with index accessed types! 
">
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P9MQVJS');</script>
  <!-- End Google Tag Manager -->

  <title>Bitovi Academy - Index Accessed Types</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P9MQVJS"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget. We strongly suggest finishing learn-advanced-javascript prior to starting this course.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-react-native.html"
							title="Learn React Native by building the feature-rich Place My Order application in this beginner React Native guide. This hands-on course will introduce you to fundamental React Native concepts! By the end of this course, you will have a strong understanding of JSX, function components, styling, state management, Hooks, data fetching, routing, and testing.">
							Learn React Native
						</a>
						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-agile-program-management-with-jira.html"
							title="Learn how to build, maintain, and report on accurate multi-team plans with Jira.">
							Agile Program Management With Jira
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to move beyond writing code to be an excellent technology consultant!">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-react.html"
							title="Learn React by building the feature-rich Place My Order application in this beginner React guide. This hands-on course will introduce you to fundamental React concepts! By the end of this course, you will have a strong understanding of JSX, function components, styling, state management, Hooks, data fetching, routing, and testing.">
							Learn React
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-ngrx.html"
							title="Learn how to manage state in an Angular application using NgRx.">
							Learn NgRx
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-graphql.html"
							title="Build a backend application for property rentals using Node JS, GraphQL and Apollo Server.         Learn about using ORMs like Mongoose and Prisma with a NoSQL Mongo database!
Write testcases testing created endpoints.">
							Learn Graphql
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-docker.html"
							title="Build and containerize a Node.js app then orchestrate multiple containers with docker-compose in this Docker guide.">
							Learn Docker
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../advanced-typescript.html"
							title="This is the second course in the TypeScript series. By the end, you will be comfortable with any types you come across and possess the knowledge to create your own advanced types. The only prerequisite is the first course in the TypeScript series found here.">
							Advanced TypeScript
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="typing-systems.html"
							title="">
							Typing Systems
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="generics-with-constraints.html"
							title="Learn how to constrain generics to be able to reuse even more logic!">
							Generics With Constraints
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="index-accessed-types.html"
							title="Learn how to look up types of properties with index accessed types!">
							Index Accessed Types
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="mapped-types.html"
							title="Learn how to create new types with mapped types!">
							Mapped Types
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="conditional-types.html"
							title="Learn how to create new types to simplify functions and enforce type safety with conditional types!">
							Conditional Types
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="template-literal-types.html"
							title="Learn what template literal types are and how to empower them with unions, generics, conditional types, and infer!">
							Template Literal Types
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Index Accessed Types <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn how to look up types of properties with index accessed types!</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <h2 id="overview">Overview</h2>
<p>There are many times we would like to forego defining a type and rather use some other type as a reference instead. Index Accessed Types is a TypeScript feature that allows us to do just that! In this section, we will look at index accessed types, how they work, and how they are defined. Towards the end we will see a practical application!</p>
<h2 id="index-accessed-types">Index Accessed Types</h2>
<p>Index accessed types are a way to look up types on other types. TypeScript uses square bracket notation (<code>[]</code>) to grab the desired type off of object types, much like how you can access a specific property from a JavaScript object using square brackets (<code>someObject[&quot;someKey&quot;]</code>).</p>
<pre><code class="language-ts">type Pokemon = {
  power: number;
  name: string;
  type: &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;;
  ///...
};

type PokemonName = Pokemon[&quot;name&quot;]; // string
type PokemonPower = Pokemon[&quot;power&quot;]; // number
type PokemonTypes = Pokemon[&quot;type&quot;]; // &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;
</code></pre>
<p>In the example above <code>'name'</code>, <code>'power'</code>, and <code>'type'</code> are not strings, but types (literal types). Index access types can only be used with types. Any value provided will produce an error.</p>
<pre><code class="language-ts">const name = &quot;name&quot;;
type PokemonNameFail = Pokemon[name]; // 'name' refers to a value, but is being used as a type here.
type PokemonNameWithTypeOf = Pokemon[typeof name]; // string;

type Name = &quot;name&quot;;
type PokemonNameWithLiteralType = Pokemon[Name]; // string
</code></pre>
<p>If the type provided is not able to index a particular type, TypeScript will provide an error.</p>
<pre><code class="language-ts">type Pokemon = {
  power: number;
  name: string;
  type: &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;;
  ///...
};

// ERROR: Property 'invalidKey' does not exist on type 'Pokemon'.
type InvalidExample1 = Pokemon[&quot;invalidKey&quot;];

type GymLeader = {
  name: string;
  location: string;
  typeOfGym: &quot;fire&quot; | &quot;water&quot; | &quot;earth&quot;;
};

// ERROR: Type 'GymLeader' cannot be used as an index type.
type InvalidExample2 = Pokemon[GymLeader];
</code></pre>
<div line-highlight='8-18'></div>
<h3 id="multiple-types-as-indices">Multiple Types as Indices</h3>
<p>When TypeScript sees more than one type being passed in it will create a union of the property types â€” <code>keyof</code> and string unions illustrate this.</p>
<pre><code class="language-ts">type PokemonTypeOrPower = Pokemon[&quot;power&quot; | &quot;type&quot;]; // number | &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;

type PokemonPropertyValues = Pokemon[keyof Pokemon]; // string | number;
</code></pre>
<blockquote>
<p>It might be surprising to see that <code>Pokemon[keyof Pokemon]</code> is <code>string | number</code> and not <code>string | number | &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;</code>. This happens because the value constraints of the string literal union do not have any impact on the newly formed type. The type <code>&quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;</code> is a subset of <code>string</code> meaning any <code>string</code> provided to <code>string | number | &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;</code> will pass. TypeScript knows this and purposely omits the union for clarity.</p>
</blockquote>
<p>Index access types are chainable, this allows us to access as deep a property as we would like simply by adding more brackets.</p>
<pre><code class="language-ts">type PokemonMove = {
  name: string;
  description: string;
  pp: number;
};

type Pokemon = {
  power: number;
  name: string;
  type: &quot;fire&quot; | &quot;water&quot; | &quot;grass&quot;;
  firstMove: PokemonMove;
};

type PokemonMoveName = Pokemon[&quot;firstMove&quot;][&quot;name&quot;]; // string
</code></pre>
<h3 id="with-generics">With Generics</h3>
<p>Index accessed types also work with generics, letâ€™s take a look at an example they may seem familiar if you did the exercises from the last section</p>
<pre><code class="language-ts">function getStarterPokemonInfomation&lt;Starters, Name extends keyof Starters&gt;(
  starter: Starters,
  name: Name
) {
  return starter[name];
}
</code></pre>
<p>In this exercise we didnâ€™t define the return type of this function; instead opting for TypeScriptâ€™s type inference to define it for us. If we were to define it the return type would be <code>Starters[Name]</code>. The reason this works is that we have constrained the <code>Name</code> generic to extend <code>keyof Starters</code>.</p>
<h2 id="practical-indices">Practical Indices</h2>
<p>Index accessed types really shine when deriving types from other types. Imagine weâ€™re building a game that uses some sort of restful service. The backend has done a wonderful job of building a consistent API that describes all entities in the following way.</p>
<div style='width:100%;display:flex;justify-content:center;'>
<table style='width: 50%;'>
    <tr>
        <td><b>Action</b></td>
        <td><b>HTTP Method</b></td>
        <td><b>Path</b></td>
    </tr>
    <tr>
        <td>Get all</td>
        <td><pre>GET</pre></td>
        <td><pre>/&lt;entity&gt;</pre></td>
    </tr>
    <tr>
        <td>Get one</td>
        <td><pre>GET</pre></td>
        <td><pre>/&lt;entity&gt;/:id</pre></td>
    </tr>
    <tr>
        <td>Create</td>
        <td><pre>POST</pre></td>
        <td><pre>/&lt;entity&gt;</pre></td>
    </tr>
    <tr>
        <td>Update</td>
        <td><pre>PATCH</pre></td>
        <td><pre>/&lt;entity&gt;/:id</pre></td>
    </tr>
    <tr>
        <td>Delete</td>
        <td><pre>DELETE</pre></td>
        <td><pre>/&lt;entity&gt;/:id</pre></td>
    </tr>
</table>
</div>
<p>Ideally, weâ€™d like a generic factory to create requests for multiple crud-ish entities, like a <code>HatchedPokemon</code> or a <code>Trainer</code>, to reduce the duplicated logic in our code. One way we could accomplish this is by constraining the type of entity passed into our factory to some base <code>Entity</code> type that describes what all entities must have, in our case, this is an <code>id</code> value, and then having all the methods returned by the factory use the type of that <code>Entity</code>â€™s id.</p>
<pre><code class="language-ts">type Entity = { id: number };
type Updatable&lt;T extends Entity&gt; = Partial&lt;Omit&lt;T, &quot;id&quot;&gt;&gt;;

type Requests&lt;T extends Entity&gt; = {
  getOne: (id: number) =&gt; Promise&lt;T&gt;;
  getAll: () =&gt; Promise&lt;Array&lt;T&gt;&gt;;
  create: (partialEntity: Partial&lt;T&gt;) =&gt; Promise&lt;T&gt;;
  update: (id: number, updated: Updatable&lt;T&gt;) =&gt; Promise&lt;T&gt;;
  delete: (id: number) =&gt; Promise&lt;void&gt;;
};

function factory&lt;T extends Entity&gt;(path: string): Requests&lt;T&gt; {
  // Implementation detail
}
</code></pre>
<p>This works, but what would happen if, down the long development road, <code>id</code> is changed from a <code>number</code> to a <code>string</code> to conform to the <code>UUIDv4</code> standard? Weâ€™d have to change it on <code>Entity</code> and then on all of our request function types as well. It would be much easier if we just looked up the type of <code>id</code> off of the generic passed into the <code>Request</code> type.</p>
<blockquote>
<p><strong>Note:</strong> Notice this is only possible because we have constrained <code>T</code> to extend <code>Entity</code> in the generic definition</p>
</blockquote>
<pre><code class="language-ts">type Requests&lt;T extends Entity&gt; = {
  getOne: (id: T[&quot;id&quot;]) =&gt; Promise&lt;T&gt;;
  getAll: () =&gt; Promise&lt;Array&lt;T&gt;&gt;;
  create: (partialEntity: Partial&lt;T&gt;) =&gt; Promise&lt;T&gt;;
  update: (id: T[&quot;id&quot;], updated: Updatable&lt;T&gt;) =&gt; Promise&lt;T&gt;;
  delete: (id: T[&quot;id&quot;]) =&gt; Promise&lt;void&gt;;
};
</code></pre>
<div line-highlight='2, 5-6'></div>
<p>Using index accessed types we have resolved this issue and any future issue like it down the road.</p>
<p>As weâ€™ve seen, indexed access types are a powerful feature from TypeScript which helps our typing become more flexible and dynamic. Like generics, they will become a staple in our types as we progress through other TypeScript features.</p>
<h2 id="exercises">Exercises</h2>
<h3 id="exercise-1">Exercise 1</h3>
<p>Below is an array of Pokemon trainers and a <code>FavoritePokemon</code> type currently assigned to any.
Using the <code>pokemonTrainers</code> array replace the <code>any</code> with a type that has the same shape as <code>favoritePokemon</code> on the
trainers in the array.</p>
<p><details>
<summary> Hint for Exercise 1 (click to reveal)</summary>
An array is just an object indexed with a number
</details></p>
<p><a href="https://codesandbox.io/s/6syglj?file=/03-index-accessed-types-ex-01.ts">Open in CodeSandbox</a></p>
<pre><code class="language-ts">/**
 * Below is an array of Pokemon trainers and a `FavoritePokemon` type currently assigned to any.
 * Using the `pokemonTrainers` array replace the `any` with a type that has the same shape as `favoritePokemon` on the
 * trainers in the array.
 *
 * &gt; Hint:
 * &gt; An array is just an object indexed with a number
 */
export const pokemonTrainers = [
  {
    name: &quot;Ash&quot;,
    favoritePokemon: {
      name: &quot;Pikachu&quot;,
      pokedexNumber: 25,
      type: [&quot;Electric&quot;],
      attacks: [
        { title: &quot;Quick Attack&quot;, type: &quot;Normal&quot;, power: 40, accuracy: 100 },
        { title: &quot;Thunder&quot;, type: &quot;Electric&quot;, power: 110, accuracy: 70 },
        { title: &quot;Volt Switch&quot;, type: &quot;Electric&quot;, power: 70, accuracy: 100 },
      ],
    },
  },
  {
    name: &quot;Brock&quot;,
    favoritePokemon: {
      name: &quot;Onix&quot;,
      pokedexNumber: 95,
      type: [&quot;Rock&quot;, &quot;Ground&quot;],
      attacks: [
        { title: &quot;Tackle&quot;, type: &quot;Normal&quot;, power: 40, accuracy: 100 },
        { title: &quot;Iron Tail&quot;, type: &quot;Steel&quot;, power: 100, accuracy: 75 },
        { title: &quot;Rock Slide&quot;, type: &quot;Rock&quot;, power: 75, accuracy: 90 },
      ],
    },
  },
];

type FavoritePokemon = any;

</code></pre>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-ts">import { pokemonTrainers } from &quot;./ex-01&quot;;

export type Pokemon = typeof pokemonTrainers[number][&quot;favoritePokemon&quot;];

</code></pre>
<div line-highlight='1, 3'></div>
<p></details></p>

</section>

  			
  			<bit-prev-next class="footer" list-selector=".sidebar-left ul li.parent.expanded ul"></bit-prev-next>
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout discord">
          <h6>Get help</h6>
          <p>If you need <a href="https://discord.gg/J7ejFsZnJ4">help</a> with an exercise, please reach out to us on
             <a href="https://discord.gg/J7ejFsZnJ4">Discord</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com</a></p>
        </div>
      </div>
    

	</article>
</div>


  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/advanced-typescript/03-index-accessed-types/index-accessed-types.md"},"description":"Learn how to look up types of properties with index accessed types! \n","name":"advanced-typescript/index-accessed-types","title":"Index Accessed Types","type":"page","parent":"advanced-typescript","order":3,"comment":" ","pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

  </div>
  <div id="email-modal" role="dialog" aria-modal="true" aria-labelledby="dialog_label" style="display: none;">
    <div aria-hidden="true" class="email-modal-backdrop"></div>
    <div role="region" class="email-modal-content">
      <h2 id="dialog_label">Join the Bitovi Newsletter</h2>
      <p>
        Do you want to receive updates about new Bitovi Academy courses, Bitovi open source projects, and dev community news? If so, please provide your email. We wonâ€™t spam you or give it away for any reason!<br />
        <i style="font-size: 0.8rem;">By providing your email you agree to receive communications from Bitovi</i>
      </p>
      <div id="academy-hubspot-form-embed"></div>
      <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
      <button id="email-modal-close" title="dismiss"><img src="../static/img/close.svg" height="24" width="24"></button>
    </div>
  </div>
</body>
</html>
