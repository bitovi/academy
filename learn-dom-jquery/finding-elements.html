<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/dom/2-finding-elements.md
	@page learn-dom-jquery/finding-elements
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn how to create a basic jQuery constructor function that can find elements in the page and manipulate them.

">
  <title>Bitovi Academy - Finding Elements</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="functional-utilities.html"
							title="Create some of jQuery&#x27;s functional utility methods.">
							Functional Utilities
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="finding-elements.html"
							title="Learn how to create a basic jQuery constructor function that can find elements in the page and manipulate them.">
							Finding Elements
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="traversing-elements.html"
							title="Learn how to move from one element to the next and a bit of meta programming.">
							Traversing Elements
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="attributes-and-properties.html"
							title="Learn about the attributes and properties on an element.">
							Attributes and Properties
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="layout.html"
							title="Learn how the browser lays out elements in the page and how to get an elements dimensions and location.">
							Layout
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="events-part-1.html"
							title="Learn the basics of DOM events.">
							Events Part 1
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="events-part-2.html"
							title="Learn about event propagation and event delegation.">
							Events Part 2
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="fn-plugins.html"
							title="Learn how $.fn supports creating plugins.">
							Fn Plugins
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="tabs-widget.html"
							title="Create a tabs widget using your own version of jQuery.">
							Tabs Widget
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Finding Elements <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn how to create a basic jQuery constructor function that can find elements in the page and manipulate them.</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <h2>Overview</h2>
<p>We will learn to:</p>
<ul>
<li>Find elements in the document</li>
<li>Create the <code>$</code> function</li>
<li>Create <code>text</code>/<code>html</code>/<code>val</code> functions</li>
<li>Find elements from an element and create <code>collection.find</code></li>
<li>Create a <code>find</code> function</li>
</ul>
<h2>Video</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SB8bWiyedv4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h2>Slides</h2>
<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vR_aHX8TbUJ8hqrD2OalxvG9kjjq1wweo8Sz3HaCAPdyILn4QWKJhdxOeA9-UOzQLMB6J5E7FRPbZ2J/embed?start=false&loop=false&delayms=3000" frameborder="0" width="480" height="389" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
<h2>Setup</h2>
<p>Run the following example in CodePen:</p>
<pre><code class="language-html">&lt;div id=&quot;qunit&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;qunit-fixture&quot;&gt;&lt;/div&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;//code.jquery.com/qunit/qunit-1.12.0.css&quot;&gt;
&lt;script src=&quot;//code.jquery.com/qunit/qunit-1.12.0.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//bitovi.github.io/academy/static/scripts/jquery-test.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;module&quot;&gt;
(function() {
  $ = function(selector) {

  };

  $.extend = function(target, object) {
    for (var prop in object) {
      if (object.hasOwnProperty(prop)) {
        target[prop] = object[prop];
      }
    }
    return target;
  };

  // Static methods
  $.extend($, {
    isArray: function(obj) {
      return Object.prototype.toString.call(obj) === &quot;[object Array]&quot;;
    },
    isArrayLike: function(obj) {
      return obj &amp;&amp;
        typeof obj === &quot;object&quot; &amp;&amp;
        (   obj.length === 0 ||
            typeof obj.length === &quot;number&quot; &amp;&amp;
            obj.length &gt; 0 &amp;&amp;
            obj.length - 1 in obj );

    },
    each: function(collection, cb) {
      if ($.isArrayLike(collection)) {
        for (var i = 0; i &lt; collection.length; i++) {
          if (cb.call(this, i, collection[i]) === false) {
            break;
          }
        }
      } else {
        for (var prop in collection) {
          if (collection.hasOwnProperty(prop)) {
            if (cb.call(this, prop, collection[prop]) === false) {
              break;
            }
          }
        }
      }
      return collection;
    },
    makeArray: function(arr) {
      if ($.isArray(arr)) {
        return arr;
      }
      var array = [];
      $.each(arr, function(i, item) {
        array[i] = item;
      });
      return array;
    },
    proxy: function(fn, context) {
      return function() {
        return fn.apply(context, arguments);
      };
    }
  });

  $.extend($.prototype, {
      html: function(newHtml) { },
      val: function(newVal) { },
      text: function(newText) { },
      find: function(selector) { }
  });

})();
&lt;/script&gt;

</code></pre>
<div class='codepen'></div>
<div line-highlight='9,71-74,only'></div>
<p>Each exercise builds on the previous exercise.  There is a completed solution
at the end of this page.</p>
<h2>Exercise: <code>new $(selector) -&gt; collection</code></h2>
<h3>The problem</h3>
<p>The <code>$</code> function creates instances of a jQuery collection of elements. We will change <code>$()</code>
to be able to work without <code>new</code> later.  But for now, <code>$</code> will be treated as a
constructor function.  It should return an instance of <code>$</code> with:</p>
<ul>
<li>A <code>length</code> property equaling the number of elements matched by the <code>selector</code>.</li>
<li>Enumerated properties (ex: <code>&quot;0&quot;</code>, <code>&quot;1&quot;</code>, <code>&quot;2&quot;</code>, etc) whose value is a matched element.</li>
</ul>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('new $(selector)', function(){
    document.getElementById('qunit-fixture').innerHTML = `
        &lt;ul id=&quot;contacts&quot;&gt;
            &lt;li class=&quot;contact&quot;/&gt;
            &lt;li class=&quot;contact&quot;/&gt;
        &lt;/ul&gt;`;

    var $contacts = new $('#contacts li.contact');
    equal( $contacts.length,  2, 'There are 2 contacts');

    equal( $contacts[0].nodeName.toLowerCase(), 'li', 'got an li');
    equal( $contacts[1].className, 'contact', 'got a .contact');

    ok($contacts instanceof $, '$ is an instance of my_jquery');
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">document.querySelectorAll</a> returns a NodeList of elements matching the selector.
<pre><code class="language-html">&lt;ul class='dogs'&gt;
  &lt;li&gt;fido&lt;/li&gt;
  &lt;li&gt;rover&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class='cats'&gt;
  &lt;li&gt;sparkles&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;module&quot;&gt;
var elements = document.querySelectorAll(&quot;.dogs li&quot;);
console.log(elements) // logs [&lt;li&gt;, &lt;li&gt;]
&lt;/script&gt;
</code></pre>
<div class='codepen'></div></li>
<li>The <code>[]</code> member operator can create enumerated properties:
<pre><code class="language-js">var obj = {};
obj[&quot;0&quot;] = &quot;x&quot;;
obj[&quot;1&quot;] = &quot;y&quot;;
</code></pre>
<div class='codepen'></div></li>
<li><code>Array.prototype.push</code> implementation looks like:
<pre><code class="language-js">Array.prototype.push = function(){
  var length = this.length || 0;
  for(var i = 0; i &lt; arguments.length; i++) {
      this[length + i] = arguments[i]
  }
  this.length = length + arguments.length;
}
</code></pre></li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">  $ = function(selector) {
    var elements = document.querySelectorAll(selector);
    [].push.apply(this, elements);
  };
</code></pre>
<p></details></p>
<h2>Exercise: <code>collection.html( [newHtml] )</code></h2>
<h3>The problem</h3>
<p><a href="http://api.jquery.com/html/">collection.html</a> either:</p>
<ul>
<li><p>gets the HTML contents of the first element in the set of matched elements.</p>
<pre><code class="language-html">&lt;ul class='dogs'&gt;
  &lt;li&gt;&lt;b&gt;f&lt;/b&gt;ido&lt;/li&gt;
  &lt;li&gt;rover&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class='cats'&gt;
  &lt;li&gt;sparkles&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;
var dogs = $('.dogs li');
console.log( dogs.html() ) //logs &quot;&lt;b&gt;f&lt;/b&gt;ido&quot;
&lt;/script&gt;
</code></pre>
<div class='codepen'></div></li>
<li><p>sets the HTML contents of each element in the set of matched elements
and returns the collection.</p>
<pre><code class="language-html">&lt;ul class='dogs'&gt;
  &lt;li&gt;fido&lt;/li&gt;
  &lt;li&gt;rover&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class='cats'&gt;
  &lt;li&gt;sparkles&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;
var dogs = $('.dogs li');
dogs.html('&lt;b&gt;rover&lt;/b&gt;') //-&gt; dogs
&lt;/script&gt;
</code></pre>
<div class='codepen'></div></li>
</ul>
<p>Many of jQuery's methods either get or set depending on the number of arguments.</p>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('$.fn.html', function(){
    new $('#qunit-fixture').html(`
        &lt;ul id=&quot;contacts&quot;&gt;
            &lt;li class=&quot;contact&quot;&gt;&lt;/li&gt;
            &lt;li class=&quot;contact&quot;&gt;&lt;/li&gt;
        &lt;/ul&gt;`);
    new $('.contact').html('Hi There');

    equal(new $('.contact').html(), 'Hi There',
        'First contact html set correctly');
    equal(new $('.contact:nth-child(2)').html(), 'Hi There',
        'Second contact html set correctly');
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML">innerHTML</a>
to set the html contents of an element.</li>
<li>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/length">arguments.length</a> to detect the number of arguments passed.</li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">      html: function(newHtml) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.innerHTML = newHtml;
          });
        } else {
          return this[0].innerHTML;
        }
      },
</code></pre>
<p></details></p>
<h2>Exercise: <code>collection.val( [newValue] )</code></h2>
<h3>The problem</h3>
<p><a href="http://api.jquery.com/val/">collection.val</a> gets the current value of the first element in the set of matched elements or sets the value of every matched element.</p>
<pre><code class="language-html">&lt;input type=&quot;text&quot; class=&quot;first&quot; value=&quot;first&quot;/&gt;
&lt;input type=&quot;text&quot; class=&quot;second&quot; value=&quot;second&quot;/&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;

console.log( $(&quot;.first&quot;).val() ) //log &quot;first&quot;
$(&quot;.second&quot;).val( &quot;SECOND&quot; );
&lt;/script&gt;
</code></pre>
  <div class='codepen'></div>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('$.fn.val', function(){

    new $('#qunit-fixture').html(`
        &lt;input type=&quot;text&quot; class=&quot;age&quot;/&gt;
        &lt;input type=&quot;text&quot; class=&quot;age&quot;/&gt;`);


    equal( new $('.age').val(), '',
        'Input is initially empty');

    new $('.age').val('Hi There');

    equal( new $('.age').val(), 'Hi There',
        'First .age value set correctly');

    equal( new $('.age:nth-child(2)').val(), 'Hi There',
        'Second .age value set correctly');
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li>The <code>.value</code> property can be used to read and write an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input">input</a> element's value.</li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">      val: function(newVal) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.value = newVal;
          });
        } else {
          return this[0].value;
        }
      },
</code></pre>
<p></details></p>
<h2>Exercise: <code>$(selector)</code></h2>
<h3>The problem</h3>
<p>Lets remove the need to use <code>new</code> when using <code>$</code>.</p>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('$(selector)', function(){
    document.getElementById('qunit-fixture').innerHTML = `
        &lt;ul id=&quot;contacts&quot;&gt;
            &lt;li class=&quot;contact&quot;/&gt;
            &lt;li class=&quot;contact&quot;/&gt;
        &lt;/ul&gt;`;

    var $contacts = $('#contacts li.contact');
    equal( $contacts.length,  2, 'There are 2 contacts');

    equal( $contacts[0].nodeName.toLowerCase(), 'li', 'got an li');
    equal( $contacts[1].className, 'contact', 'got a .contact');

    ok($contacts instanceof $, 'instanceof $ without new');
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li><p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof</a>
to tell if something is an instance of something else:</p>
<pre><code class="language-js">const Animal = function(name){
  this.name = name;
}
const sponge = new Animal(&quot;bob&quot;)
console.log( sponge instanceof Animal ) //-&gt; true
</code></pre>
<div class='codepen'></div></li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">  $ = function(selector) {
    if ( !(this instanceof $) ) {
      return new $(selector);
    }
    var elements = document.querySelectorAll(selector);
    [].push.apply(this, elements);
  };
</code></pre>
<p></details></p>
<h2>Exercise: <code>collection.text( [newText] )</code></h2>
<h3>The problem</h3>
<p><a href="http://api.jquery.com/text/">collection.text</a> get the combined text contents of each element in the set of matched elements, including their descendants, or sets the text contents of the matched elements.</p>
<pre><code class="language-html">&lt;ul class='dogs'&gt;
    &lt;li&gt;fido&lt;/li&gt;
    &lt;li&gt;rover&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;
var $ul = $(&quot;.dogs&quot;);
console.log($ul.text()) //logs &quot;\n\tfido\n\trover\n&quot;

var dogs = $('.dogs li');
dogs.text('&lt;b&gt;rover&lt;/b&gt;') //-&gt; dogs
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('$.fn.text', function(){

    $('#qunit-fixture').html('Hi &lt;span&gt;there&lt;/span&gt;.');

    equal( $('#qunit-fixture').text(), 'Hi there.',
        'The text is right');

    $('#qunit-fixture span').text('&lt;input/&gt;');

    equal( $('#qunit-fixture input').length, 0,
        'there\'s no input');

    equal( $('#qunit-fixture span').text(), '&lt;input/&gt;',
        'The text is what we sent' );
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent">textContent</a>
can get and set the text content of an element.</li>
</ul>
<p>For an <em>extra challenge</em>, don't use <code>textContent</code> and recursively collect
the <code>textContent</code>.  For that, you'll need to know:</p>
<ul>
<li><p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createTextNode">document.createTextNode</a>
to create a text node.</p></li>
<li><p>Text nodes have a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType">nodeType</a> of
<code>3</code>.  You can use <code>Node.TEXT_NODE</code> to get this value.</p></li>
<li><p>Read <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeValue">nodeValue</a>
to get the value of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text">Text</a> node.</p></li>
<li><p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild">appendChid</a> to add a text node to another element.</p>
<pre><code class="language-js">var textNode = document.createTextNode(
  &quot;My favorite element is &lt;script&gt;&quot;);

console.log(textNode.nodeType === Node.TEXT_NODE)
// logs true

console.log(textNode.nodeValue)
// logs &quot;My favorite element is &lt;script&gt;&quot;

document.body.appendChild(textNode);
</code></pre>
<div class='codepen'></div></li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">      text: function(newText) {
        if (arguments.length) {
          return $.each(this, function(i, element) {
            element.textContent = newText;
          });
        } else {
          return this[0].textContent;
        }
      },
</code></pre>
<p></details></p>
<p><details>
<summary>Click to see the <i>extra challenge</i> solution</summary></p>
<pre><code class="language-js">  var getText = function(childNodes) {
    var text = &quot;&quot;;
    $.each(childNodes, function(i, child) {
      if (child.nodeType === 3) {
        text += child.nodeValue;
      } else {
        text += getText(child.childNodes);
      }
    });
    return text;
  };
</code></pre>
<pre><code class="language-js">      text: function(newText) {
        if (arguments.length) {
          this.html(&quot;&quot;);
          return $.each(this, function(i, element) {
            const text = document.createTextNode(newText);
            element.appendChild( text );
          });
        } else {
          return getText(this[0]);
        }
      },
</code></pre>
<p></details></p>
<h2>Exercise: <code>collection.find( selector )</code></h2>
<h3>The problem</h3>
<p><a href="https://api.jquery.com/find/">collection.find</a> gets the descendants of each element in the current set of matched elements filtered by a selector.</p>
<pre><code class="language-html">&lt;ul class=&quot;level-1&quot;&gt;
  &lt;li class=&quot;item-i&quot;&gt;I&lt;/li&gt;
  &lt;li class=&quot;item-ii&quot;&gt;II
    &lt;ul class=&quot;level-2&quot;&gt;
      &lt;li class=&quot;item-a&quot;&gt;A&lt;/li&gt;
      &lt;li class=&quot;item-b&quot;&gt;B
        &lt;ul class=&quot;level-3&quot;&gt;
          &lt;li class=&quot;item-1&quot;&gt;1&lt;/li&gt;
          &lt;li class=&quot;item-2&quot;&gt;2&lt;/li&gt;
          &lt;li class=&quot;item-3&quot;&gt;3&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li class=&quot;item-c&quot;&gt;C&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;item-iii&quot;&gt;III&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;

$( &quot;li.item-ii&quot; )
    .find( &quot;li&quot; )
    .css( &quot;border&quot;, &quot;solid 1px red&quot; );
&lt;/script&gt;
</code></pre>
<div class='codepen'></div>
<p><details>
<summary>Click to see test code</summary></p>
<pre><code class="language-js">QUnit.test('$.fn.find', function(){
    var $ul = $('#qunit-fixture')
        .html('&lt;ul&gt;&lt;li/&gt;&lt;li/&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li/&gt;&lt;li/&gt;&lt;/ul&gt;')
        .find('ul');

    equal($ul.length, 2, 'got 2 uls');
    equal($ul.find('li').length, 4, 'got four lis');
});
</code></pre>
<p></details></p>
<h3>What you need to know</h3>
<ul>
<li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/querySelectorAll">parentNode.querySelectorAll</a> can be used to find all elements that match a selector who are
descendants of the <code>parentNode</code> element.</p></li>
<li><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">spread syntax</a> can be used to push multiple items to an array.</p>
<pre><code class="language-js">const letters = [&quot;a&quot;,&quot;b&quot;];
const lettersToAdd = [&quot;x&quot;,&quot;y&quot;];
letters.push(...lettersToAdd);

console.log(letters)
// logs [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]
</code></pre>
<div class='codepen'></div>
<p>This can be done with <code>Array.prototype.push.apply</code> in older browsers.</p></li>
<li><p>You need to make <code>$()</code> accept an array of nodes similar to how jQuery does:</p>
<pre><code class="language-html">&lt;div id=&quot;first&quot;&gt;First&lt;/div&gt;
&lt;span id=&quot;second&quot;&gt;Second&lt;/div&gt;
&lt;script type=&quot;module&quot;&gt;
import &quot;https://unpkg.com/jquery@3/dist/jquery.js&quot;;

$([first, second])
  .css( &quot;border&quot;, &quot;solid 1px red&quot; );
&lt;/script&gt;
</code></pre>
<div class='codepen'></div></li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">  $ = function(selector) {
    if ( !(this instanceof $) ) {
      return new $(selector);
    }
    var elements;
    if (typeof selector === &quot;string&quot;) {
      elements = document.querySelectorAll(selector);
    } else if ($.isArrayLike(selector)) {
      elements = selector;
    }
    [].push.apply(this, elements);
  };
</code></pre>
<div line-highlight='5-10'></div>
<pre><code class="language-js">      find: function(selector) {
        var elements = [];
        $.each(this, function(i, element){
            var result = element.querySelectorAll(selector);
            elements.push(...result);
            // Or elements.push.apply(elements, result);
        })
        return new $(elements);
      }
</code></pre>
<p></details></p>
<h2>Bonus Exercise: Eliminate duplicate code in <code>.html</code>, <code>.val</code>, and <code>.text</code></h2>
<h3>The problem</h3>
<p>Use meta programming techniques to reduce the duplicate code in the
<code>.html</code>, <code>.val</code>, and <code>.text</code> functions.</p>
<pre><code class="language-js">      html: function(newHtml) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.innerHTML = newHtml;
          });
        } else {
          return this[0].innerHTML;
        }
      },
      val: function(newVal) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.value = newVal;
          });
        } else {
          return this[0].value;
        }
      },
      text: function(newText) {
        if (arguments.length) {
          return $.each(this, function(i, element) {
            element.textContent = newText;
          });
        } else {
          return this[0].textContent;
        }
      },
</code></pre>
<h3>What you need to know</h3>
<ul>
<li>You can call a function that returns a function.
<pre><code class="language-js">var makeLogger = function(text) {
  return function(){
    console.log(text);
  }
}
var logMe = makeLogger(&quot;me&quot;);
logMe() //logs &quot;me&quot;
</code></pre>
<div class='codepen'></div></li>
</ul>
<h3>The solution</h3>
<p><details>
<summary>Click to see the solution</summary></p>
<pre><code class="language-js">function makeSimpleGetterSetter(prop) {
    return function(value){
        if(arguments.length) {
            return $.each(this, function(i, element) {
                element[prop] = value;
            });
        } else {
            return this[0][prop];
        }
    }
}
</code></pre>
<pre><code class="language-js">      html: makeSimpleGetterSetter(&quot;innerHTML&quot;),
      val: makeSimpleGetterSetter(&quot;value&quot;),
      text: makeSimpleGetterSetter(&quot;textContent&quot;),
</code></pre>
<p></details></p>
<h2>Complete Solution</h2>
<pre><code class="language-html">&lt;div id=&quot;qunit&quot;&gt;&lt;/div&gt;
&lt;div id=&quot;qunit-fixture&quot;&gt;&lt;/div&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;//code.jquery.com/qunit/qunit-1.12.0.css&quot;&gt;
&lt;script src=&quot;//code.jquery.com/qunit/qunit-1.12.0.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;//bitovi.github.io/academy/static/scripts/jquery-test.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;module&quot;&gt;
(function() {
  $ = function(selector) {
    if ( !(this instanceof $) ) {
      return new $(selector);
    }
    var elements;
    if (typeof selector === &quot;string&quot;) {
      elements = document.querySelectorAll(selector);
    } else if ($.isArrayLike(selector)) {
      elements = selector;
    }
    [].push.apply(this, elements);
  };

  $.extend = function(target, object) {
    for (var prop in object) {
      if (object.hasOwnProperty(prop)) {
        target[prop] = object[prop];
      }
    }
    return target;
  };

  // Static methods
  $.extend($, {
    isArray: function(obj) {
      return Object.prototype.toString.call(obj) === &quot;[object Array]&quot;;
    },
    isArrayLike: function(obj) {
      return obj &amp;&amp;
        typeof obj === &quot;object&quot; &amp;&amp;
        (   obj.length === 0 ||
            typeof obj.length === &quot;number&quot; &amp;&amp;
            obj.length &gt; 0 &amp;&amp;
            obj.length - 1 in obj );

    },
    each: function(collection, cb) {
      if ($.isArrayLike(collection)) {
        for (var i = 0; i &lt; collection.length; i++) {
          if (cb.call(this, i, collection[i]) === false) {
            break;
          }
        }
      } else {
        for (var prop in collection) {
          if (collection.hasOwnProperty(prop)) {
            if (cb.call(this, prop, collection[prop]) === false) {
              break;
            }
          }
        }
      }
      return collection;
    },
    makeArray: function(arr) {
      if ($.isArray(arr)) {
        return arr;
      }
      var array = [];
      $.each(arr, function(i, item) {
        array[i] = item;
      });
      return array;
    },
    proxy: function(fn, context) {
      return function() {
        return fn.apply(context, arguments);
      };
    }
  });

  $.extend($.prototype, {
      html: function(newHtml) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.innerHTML = newHtml;
          });
        } else {
          return this[0].innerHTML;
        }
      },
      val: function(newVal) {
        if(arguments.length) {
          return $.each(this, function(i, element) {
            element.value = newVal;
          });
        } else {
          return this[0].value;
        }
      },
      text: function(newText) {
        if (arguments.length) {
          return $.each(this, function(i, element) {
            element.textContent = newText;
          });
        } else {
          return this[0].textContent;
        }
      },
      find: function(selector) {
        var elements = [];
        $.each(this, function(i, element){
            var result = element.querySelectorAll(selector);
            elements.push(...result);
            // Or elements.push.apply(elements, result);
        })
        return new $(elements);
      }
  });

})();
&lt;/script&gt;

</code></pre>
<div class='codepen'></div>
<div line-highlight='8-19,80-115,only'></div>

</section>

  			
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout slack">
          <h6>Get help</h6>
          <p>If you need <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">help</a> with an exercise, please reach out to us on
             <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">Slack</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com<a/></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/dom/2-finding-elements.md"},"description":"Learn how to create a basic jQuery constructor function that can find elements in the page and manipulate them.\n\n","name":"learn-dom-jquery/finding-elements","title":"Finding Elements","type":"page","parent":"learn-dom-jquery","order":2,"comment":" ","codepen":[["\"can\"","\"//unpkg.com/can@5/core.mjs\""],["\"can/everything\"","\"//unpkg.com/can@5/everything.mjs\""]],"pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
</body>
</html>
