<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/react/11-class-components-vs-hooks.md
	@page learn-react/class-components-vs-hooks
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn how to use React hooks to make functional components more powerful. 
">
  <title>Bitovi Academy - Class Components vs Hooks</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-react.html"
							title="Learn React by building a feature-rich Tic-Tac-Toe game in this beginner React guide. This hands-on course will introduce both fundamental and more advanced React concepts! By the end of this course, you will master Hooks, Unit Testing, Optimization, and Routing.">
							Learn React
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="setting-up-your-environment.html"
							title="Learn how to setup a React environment using Create React App.">
							Setting up your Environment
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="intro-to-jsx.html"
							title="Learn how to use React&#x27;s preferred markup syntax JSX, and combine HTML with JavaScript.">
							Introduction to JSX
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="components.html"
							title="Learn about the two fundamental ways of writing React components and their differences.">
							What are React Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="props.html"
							title="Learn how to make components reusable with props.">
							Props: Component Arguments
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="styling-in-react.html"
							title="Learn the different ways to style React components.">
							Styling in React 3 Ways
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="stateful-hooks.html"
							title="Learn how to use hooks in React to manage the state of a component.">
							Stateful Hooks
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="controlled-vs-uncontrolled.html"
							title="Learn how to handle inputs in React and the difference between controlled and uncontrolled components.">
							Controlled vs Uncontrolled
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="optimization-hooks.html"
							title="Learn how to optimize your React apps with useMemo and useCallback.">
							Optimization Hooks
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="managing-complex-state.html"
							title="Manage component and application state with hooks.">
							Managing Complex State
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="context-hooks.html"
							title="Learn how to manage global app state with context hooks.">
							Context Hooks
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="class-components-vs-hooks.html"
							title="Learn how to use React hooks to make functional components more powerful.">
							Class Components vs Hooks
						</a>
						
							

						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-docker.html"
							title="Build and containerize a Node app then orchestrate multiple containers with docker-compose in this Docker guide.">
							Learn Docker
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to perform technology consulting.">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Class Components vs Hooks <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn how to use React hooks to make functional components more powerful.</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <h2>What are hooks?</h2>
<ul>
<li><em>Short answer:</em> They let you use state and other React features with a function.</li>
<li><em>Long answer:</em> They provide a new paradigm to approach stateful ideas in an otherwise stateless function.</li>
</ul>
<p>Hooks are not just a new tool, they're a whole new toolbox!</p>
<p>With the release of version 16, hooks were added to the React API. Now, developers can use state and respond to lifecycle events, all from functional components.</p>
<p>Many developers find this to be a huge improvement over using class components because hooks tend to be a lot cleaner, more discrete and ultimately more scalable.</p>
<p>Each hook exposed by the React API does something different, but there are a few which are used more than others. It's also important to keep in mind that it's possible to create your own custom hooks. This is why hooks are seen not just as an API improvement but a paradigm shift.</p>
<p>The &quot;Hooks&quot; way of doing things is slowly becoming adopted not just by React but by 3rd party component libraries as well.</p>
<p><strong>Most Common Hooks</strong></p>
<ul>
<li><strong>useState:</strong> Returns a stateful value, and a function to update it.</li>
<li><strong>useEffect:</strong> Accepts a function that contains imperative, possibly effect-ful code.</li>
<li><strong>useContext:</strong> Accepts a context object and returns the current context value for that context.</li>
</ul>
<p><strong>Additional Hooks*</strong></p>
<ul>
<li><strong>useRef:</strong> Returns a mutable ref object that will persist for the full lifetime of the component.</li>
<li><strong>useMemo:</strong> Returns a memoized value.</li>
<li><strong>useCallback:</strong> Returns a memoized callback function. Special case of useMemo.</li>
<li><strong>useReducer:</strong> An alternative to useState. Returns the current state paired with a dispatch method.</li>
</ul>
<p>Hooks allow you to colocate all logic relating to a specific feature. No more splitting it between multiple lifecycle methods or duplicating logic.</p>
<p>You also get the benefits of higher-order components but with simple functions and without clogging up your component tree.</p>
<p>So let's take a look at some basic hooks and start to get a feel for this new paradigm.</p>
<h2>Class Components</h2>
<p>To understand hooks, it will be useful to see what they're replacing in class components.</p>
<p>With class components the relevant code to manage everything is spread out over multiple places (lifecycle methods).</p>
<pre><code class="language-jsx">class Timer extends React.Component {
  state = {
    value: false,
  };

  componentWillMount() {
    this._timer = setTimeout(() =&gt; this.setState({ value: true }), 2500);
  }

  componentWillUnmount() {
    this._timer = clearTimeout(this._timer);
  }

  render() {
    const { value } = this.state;

    return &lt;div&gt;{value ? 'Done!' : 'Waiting...'}&lt;/div&gt;;
  }
}

ReactDOM.render(&lt;Timer /&gt;, document.getElementById('root'));
</code></pre>
<div line-highlight='2-4,7,11,15'></div>
<div class='codepen'></div>
<p>In the example above we're implementing a <code>Timer</code> component which starts a timer when the component mounts. When the timer finishes the state is modified causing the component to re-render. Finally when the component un-mounts the time is cleared.</p>
<p>This implementation needs 3 functions and a state object, roughly 15 lines of code. Keep in mind also that we're only keeping track of 1 piece of state here.</p>
<p>Multiple state values make this even messier.</p>
<pre><code class="language-jsx">class Timer extends React.Component {
  state = {
    value1: false,
    value2: false,
  };

  componentWillMount() {
    this._timer1 = setTimeout(() =&gt; this.setState({ value1: true }), 1500);
    this._timer2 = setTimeout(() =&gt; this.setState({ value2: true }), 2500);
  }

  componentWillUnmount() {
    this._timer1 = clearTimeout(this._timer1);
    this._timer2 = clearTimeout(this._timer2);
  }

  render() {
    const { value1, value2 } = this.state;

    return (
      &lt;&gt;
        &lt;div&gt;{value1 ? 'Done!' : 'Waiting...'}&lt;/div&gt;
        &lt;div&gt;{value2 ? 'Done!' : 'Waiting...'}&lt;/div&gt;
      &lt;/&gt;
    );
  }
}

ReactDOM.render(&lt;Timer /&gt;, document.getElementById('root'));
</code></pre>
<div line-highlight='3-4,8-9,13-14,18,only'></div>
<div class='codepen'></div>
<p>When we add the second timer value above, we double our lines of code.</p>
<p>Let's see how this would look with hooks...</p>
<h2>Functional Component with Hooks</h2>
<p>Here's that same timer written using the <code>useState</code> and <code>useEffect</code> hooks:</p>
<pre><code class="language-jsx">function Timer() {
  const [value, setValue] = React.useState(false);

  React.useEffect(() =&gt; {
    const timer = setTimeout(() =&gt; setValue(true), 2500);
    return () =&gt; clearTimeout(timer);
  }, []);

  return &lt;div&gt;{value ? 'Done!' : 'Waiting...'}&lt;/div&gt;;
}

ReactDOM.render(&lt;Timer /&gt;, document.getElementById('root'));
</code></pre>
<div line-highlight='2,5-6'></div>
<div class='codepen'></div>
<p><code>useState</code> can define a single piece of state with both the state value and a function for updating the value. Instead of the component's state being stored in one monolith object, it's broken out into discrete, well-named units.</p>
<p>In addition, instead of needing to define two lifecycle methods (<code>componentWillMount</code>, <code>componentWillUnmount</code>) we can utilize the <code>useEffect</code> hook which is able to simulate both in a single go.</p>
<p>This combination of <code>useState</code> and <code>useEffect</code> gives you the ability to manage state and respond to lifecycle events all from a functional component. And as you can see, it cuts down on the amount of boilerplate code we need to write.</p>
<h3>Custom Hooks</h3>
<p>As was mentioned before however, hooks are not just a feature but a paradigm shift in the way we write and re-use React code.</p>
<p>We could take that timer component from the previous section and encapsulate it's logic (minus the JSX) into a custom hook.</p>
<pre><code class="language-jsx">function useTimer(delay) {
  const [value, setValue] = React.useState(false);

  React.useEffect(() =&gt; {
    const timer = setTimeout(() =&gt; setValue(true), delay);
    return () =&gt; clearTimeout(timer);
  }, []);

  return value;
}

function Timer() {
  const value = useTimer(2500);

  return &lt;div&gt;{value ? 'Done!' : 'Waiting...'}&lt;/div&gt;;
}

ReactDOM.render(&lt;Timer /&gt;, document.getElementById('root'));
</code></pre>
<div line-highlight='2,5-6,13'></div>
<div class='codepen'></div>
<p>Now, our <code>useTimer</code> hooks returns a value which, when modified will cause the <code>Timer</code> component to re-render. We've abstracted away the logic of updating the <code>value</code> into the <code>useValue</code> hook.</p>

</section>

  			
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout slack">
          <h6>Get help</h6>
          <p>If you need <a href="https://www.bitovi.com/community/slack">help</a> with an exercise, please reach out to us on
             <a href="https://www.bitovi.com/community/slack">Slack</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com<a/></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/react/11-class-components-vs-hooks.md"},"description":"Learn how to use React hooks to make functional components more powerful. \n","name":"learn-react/class-components-vs-hooks","title":"Class Components vs Hooks","type":"page","parent":"learn-react","order":11,"comment":" ","codepen":[["\"can\"","\"//unpkg.com/can@5/core.mjs\""],["\"can/everything\"","\"//unpkg.com/can@5/everything.mjs\""]],"pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
</body>
</html>
