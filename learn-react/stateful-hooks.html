<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/react/6-stateful-hooks.md
	@page learn-react/stateful-hooks
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn how to use hooks in React to manage the state of a component. 
">
  <title>Bitovi Academy - Stateful Hooks</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-react.html"
							title="Learn React by building a feature-rich Tic-Tac-Toe game in this beginner React guide. This hands-on course will introduce both fundamental and more advanced React concepts! By the end of this course, you will master Hooks, Unit Testing, Optimization, and Routing.">
							Learn React
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="setting-up-your-environment.html"
							title="Learn how to setup a React environment using Create React App.">
							Setting up your Environment
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="intro-to-jsx.html"
							title="Learn how to use React&#x27;s preferred markup syntax JSX, and combine HTML with JavaScript.">
							Introduction to JSX
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="components.html"
							title="Learn about the two fundamental ways of writing React components and their differences.">
							What are React Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="props.html"
							title="Learn how to make components reusable with props.">
							Props: Component Arguments
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="styling-in-react.html"
							title="Learn the different ways to style React components.">
							Styling in React 3 Ways
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="stateful-hooks.html"
							title="Learn how to use hooks in React to manage the state of a component.">
							Stateful Hooks
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="controlled-vs-uncontrolled.html"
							title="Learn how to handle inputs in React and the difference between controlled and uncontrolled components.">
							Controlled vs Uncontrolled
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="optimization-hooks.html"
							title="Learn how to optimize your React apps with useMemo and useCallback.">
							Optimization Hooks
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="managing-complex-state.html"
							title="Manage component and application state with hooks.">
							Managing Complex State
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="context-hooks.html"
							title="Learn how to manage global app state with context hooks.">
							Context Hooks
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="class-components-vs-hooks.html"
							title="Learn how to use React hooks to make functional components more powerful.">
							Class Components vs Hooks
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to perform technology consulting.">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Stateful Hooks <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn how to use hooks in React to manage the state of a component.</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <h2>What are stateful hooks?</h2>
<p>Stateful hooks are React's way of managing all of the data that a functional component needs to keep track of. The most widely used stateful hook, <code>useState</code>, streamlines the process of both using and updating individual state values in a straightforward way.</p>
<p>Another stateful hook, <code>useRef</code>, gives component code access to the underlying DOM elements rendered from the JSX.</p>
<p>Let's take a look at each hook in turn and see what they can do.</p>
<h2>useState</h2>
<p>When <code>useState</code> is called, it returns an array with two elements. The first element is the state value itself; this is the value you would render inside the JSX. The second element is a setter function, which when called, can be used to update the state and trigger a re-render.</p>
<pre><code class="language-jsx">function Hello() {
  const [inputValue, setInputValue] = React.useState('');

  return (
    &lt;input value={inputValue} onChange={(e) =&gt; setInputValue(e.target.value)} /&gt;
  );
}

ReactDOM.render(&lt;Hello /&gt;, document.getElementById('root'));
</code></pre>
<div line-highlight='2,5'></div>
<div class='codepen' data-codepen='react'></div>
<p>Above is a simple example of using state to control an <code>input</code> element. The value of the input is determined entirely by the <code>inputValue</code> state (not the browser), and whenever the input changes, the state is updated to match.</p>
<p>This process is similar no matter what component you're building. The basic flow is:</p>
<ol>
<li>Get the value and setter</li>
<li>Use the value as needed</li>
<li>Call the setter to change the value and trigger an update</li>
</ol>
<blockquote>
<p><strong>Important:</strong> When using objects or arrays, you must provide a new state when using the setter, rather than changing the current values. The data created by <code>useState</code> is immutable and will always replace any manual changes.</p>
<p>For example, using array methods like <code>.push()</code> or <code>.pop()</code> will lead to problems. Instead, use methods like <code>.concat()</code> and <code>.filter()</code> which create new arrays, and pass those values into the setter.</p>
<pre><code class="language-jsx">function Hello() {
  const [values, setValues] = React.useState([]);

  return (
    &lt;&gt;
      {values}
      &lt;button onChange={(e) =&gt; setValues(values.concat('click'))}&gt;
        Click me
      &lt;/button&gt;
    &lt;/&gt;
  );
}

ReactDOM.render(&lt;Hello /&gt;, document.getElementById('root'));
</code></pre>
<p><em>For class based components see <a href="https://reactjs.org/docs/state-and-lifecycle.html">this.setState()</a>.</em></p>
</blockquote>
<h2>useRef</h2>
<p>Just like <code>useState</code>, <code>useRef</code> is a data store, keeping track of values the component is interested in. In this case however, <code>useRef</code> helps store DOM references instead of state data.</p>
<p>DOM references give your component access to the underlying DOM elements that your JSX creates. These references can then be used to make more specific changes to the DOM or provide access to external libraries. To get to the value of a ref, it is always located in the <code>.current</code> property. It's important to note that updating refs does not cause updates like modifying the state does.</p>
<p>Let's take a look at <code>useRef</code> in action:</p>
<pre><code class="language-jsx">import React, { useRef, useEffect } from 'react';

function Hello() {
  const parent = useRef();
  const map = useRef();

  useEffect(() =&gt; {
    map.current = new google.maps.Map(parent.current, {});
  }, []);

  return &lt;div ref={parent} /&gt;;
}
</code></pre>
<div line-highlight='4,5,8'></div>
<p>In the code above we're doing a couple things:</p>
<ul>
<li>Get refs for the parent and the map instances.</li>
<li>Pass the parent ref to the <code>div</code> JSX element.</li>
<li>Working inside a useEffect so we have access to <code>parent.current</code>, set the current map value.</li>
</ul>
<h2>Exercise</h2>
<p>Let's use our stateful hooks knowledge to make our Tic-Tac-Toe game more functional!</p>
<p>Run the app locally with <code>npm start</code> and choose the <code>Stateful Hooks</code> exercise. Now head over to <code>src/exercises/7 - Stateful Hooks/components</code>. These are the files you'll be editing.</p>
<h3>The problem</h3>
<p>✏️ Modify the <code>Board</code> component so that it keeps track of the current state of the game and players using hooks.</p>
<ul>
<li>store the current board in state, represented as an array of strings (ex. <code>[&quot;&quot;, &quot;x&quot;, &quot;o&quot; ...]</code>)</li>
<li>store the current player in state, with a boolean called <code>isXTurn</code></li>
<li>Fill out the <code>handleSquareClick</code> function so that it updates the board and changes the current player when the user clicks a <code>Square</code>.</li>
</ul>
<h3>The solution</h3>
<pre><code class="language-jsx">import React, { useState } from 'react';
import Square from '../../../app/components/Square';

function Board() {
  const [board, setBoard] = useState(['', '', '', '', '', '', '', '', '']);
  const [isXTurn, setIsXTurn] = useState(true);

  function handleSquareClick(squareIndex) {
    if (board[squareIndex]) {
      return;
    }

    const newBoard = [...board];
    newBoard[squareIndex] = isXTurn ? 'X' : 'O';

    setBoard(newBoard);
    setIsXTurn(!isXTurn);
  }

  return (
    &lt;div className=&quot;board&quot;&gt;
      {board.map((symbol, index) =&gt; (
        &lt;Square
          key={index}
          symbol={symbol}
          onClick={() =&gt; handleSquareClick(index)}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}

export default Board;
</code></pre>
<div line-highlight='5,6,9-17,only'></div>

</section>

  			
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout slack">
          <h6>Get help</h6>
          <p>If you need <a href="https://www.bitovi.com/community/slack">help</a> with an exercise, please reach out to us on
             <a href="https://www.bitovi.com/community/slack">Slack</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com<a/></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/react/6-stateful-hooks.md"},"description":"Learn how to use hooks in React to manage the state of a component. \n","name":"learn-react/stateful-hooks","title":"Stateful Hooks","type":"page","parent":"learn-react","order":6,"comment":" ","codepen":[["\"can\"","\"//unpkg.com/can@5/core.mjs\""],["\"can/everything\"","\"//unpkg.com/can@5/everything.mjs\""]],"pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
</body>
</html>
