<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/react/data-modeling.md
	@page learn-react/data-modeling
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn how to handle data from the server in your React application 
">
  <title>Bitovi Academy - Data Modeling</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-react.html"
							title="Learn how to write an app the React way. Learn what separates a beginner app from an expert app.">
							The React Way
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="guidelines.html"
							title="General guidelines for writing a React application. Always keep these in mind when building an app.">
							General Guidelines
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="state-management.html"
							title="Learn several different react  state management techniques and when to use them.">
							State Management
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="data-modeling.html"
							title="Learn how to handle data from the server in your React application">
							Data Modeling
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="routing.html"
							title="Learn to master routing in your React app with React Router.">
							Routing
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="styling.html"
							title="Learn several methods for styling your React application.">
							Styling
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to perform technology consulting.">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Data Modeling <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn how to handle data from the server in your React application</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <p>There are several ways to handle data modeling in a React application:</p>
<ul>
<li><strong>Simple Apps</strong>: Don't worry about it</li>
<li><strong>Medium Apps</strong>: Simple services and/or models</li>
<li><strong>Advanced Apps</strong>: External libraries</li>
</ul>
<h2>Just Don't</h2>
<p>It seems counter intuitive to include the option of &quot;don't worry about it&quot;, but that is perfectly acceptable for a small application. This pairs well the simple form of <a href="state-management.html" title="Learn several different react  state management techniques and when to use them.">State Management</a> too!</p>
<p>The basic idea is to call <code>fetch</code> (or your API of choice) directly in your code, and store the results using <code>useState</code>.</p>
<pre><code class="language-jsx">function SimpleSearchApp() {
  const [ query, setQuery ] = useState('');
  const [ results, setResults ] = useState();

  async function handleSearch() {
    const response = await fetch(`/search?query=${query}`);
    const results = await response.json();
    setResults(results);
  }

  return (
    &lt;div&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;search query&quot; value={query} /&gt;
      &lt;button onClick={handleSearch}&gt;Search&lt;/button&gt;

      {results ? (
        results.length === 0 ? (
          &lt;div&gt;no results found&lt;/div&gt;
        ) : (
          &lt;div&gt;
            {results.map(({ id, title, content }) =&gt; (
              &lt;div key={id}&gt;
                &lt;h3&gt;{title}&lt;/h3&gt;
                &lt;p&gt;{content}&lt;/p&gt;
              &lt;/div&gt;
            ))}
          &lt;/div&gt;
        )
      ) : (
        &lt;div&gt;please enter a query and click &quot;Search&quot;&lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}
</code></pre>
<h2>Using simple services and/or models</h2>
<p>At the end of the day, every data modeling solution will have <code>fetch</code> and <code>useState</code> just like the simple solution. The differences lie in where the code lives and what other code is surrounding it.</p>
<p>For the purposes of this solution, you can use Services, Models, or both. But what is the difference between a service and a model? They largely solve the same problem, though they do so differently and may use each other if both are present.</p>
<ul>
<li>A <strong>model</strong> is a unit of data with properties and usually methods, such as a User object with the properties &quot;username&quot;, &quot;name&quot;, and &quot;email&quot;, and the methods &quot;save&quot; and &quot;delete&quot;, or a SearchResult object with properties &quot;id&quot;, &quot;title&quot;, and &quot;content&quot; (and no methods, since you probably cannot modify an entry in a search result). When needing to perform work (usually accessing an external server), this logic may be built into the method definitions or it may use a <em>service</em>.</li>
<li>A <strong>service</strong> is a collection of related methods, each of which performs some unit of work (such as updating a user record or performing a search). A service may perform this work using plain objects as the input and output, or using <em>models</em>.</li>
</ul>
<h3>Simple Services</h3>
<p>To update our above example to utilize services, we would replace the <code>handleSearch</code> function with this one:</p>
<pre><code class="language-js">async function handleSearch() {
  const results = await SearchService.search(query);
  setResults(results);
}
</code></pre>
<p>Our SearchService, at least initially, would look something like this:</p>
<pre><code class="language-js">export default {
  search(query) {
    const response = await fetch(`/search?query=${query}`);
    const results = await response.json();
    return results;
  },
};
</code></pre>
<p>Initially, we have not changed any logic at all; in fact, this is more code than we started with. What this does do, however, is remove search implementation detail from the component, and reduce the amount of special knowledge that the developer needs to be aware of when checking this component.</p>
<p>What this also does is give much more flexibility. If we need to add something like authentication or a transform on the data from the server, we don't have to change the component at all. In fact, we could entirely replace the external API with a new one (even using something entirely different like GraphQL), add transforms on the input and outgoing data, and the component would be none the wiser.</p>
<h3>Simple Models</h3>
<p>Let's take this example one step further and introduce a Model. As this service is fairly simple, we are going to <em>replace</em> it with a model, rather than using both simultaneously. For other models, you may wish to make use of both options, especially if you need to include complex authentication information.</p>
<p>Our <code>handleSearch</code> will be very similar similar to the service option, except it will call a static function on our <code>SearchResults</code> model.</p>
<pre><code class="language-js">async function handleSearch() {
  const results = await SearchResults.findAll(query);
  setResults(results);
}
</code></pre>
<p>Our SearchResults would look something like this.</p>
<blockquote>
<p>We would also need to make sure we check the length of and map over the results property, rather than the object itself. We could do this by modifying the component itself, or adding a <code>length</code> getter and <code>map</code> method. If you find yourself doing things like this frequently, it may be worth extending another class which includes this generic logic.</p>
</blockquote>
<pre><code class="language-js">export class SearchResults {
  static from(data) {
    return new SearchResults(results);
  }

  static async findAll(query) {
    const response = await fetch(`/search?query=${query}`);
    const results = await response.json();
    return SearchResults.from(results);
  }

  constructor(results) {
    this.results = results.map(SearchResult.from);
  }

  get length() {
    return this.results.length;
  }

  map(fn) {
    return this.results.map(fn);
  }
};

export class SearchResult {
  static from(data) {
    return new SearchResult(data);
  }

  constructor({ id, name, content }) {
    this.id = id;
    this.name = name;
    this.content = content;
  }
}
</code></pre>
<p>If you were modeling a User, it might look something like this.</p>
<pre><code class="language-js">export class User {
  static from(data) {
    return new User(data);
  }

  static async findOne(username) {
    const response = await fetch(`/user/${username}`);
    const results = await response.json();
    return User.from(results);
  }

  constructor({ username, name, email }) {
    this.username = username;
    this.name = name;
    this.email = email;
  }

  async save() {
    await fetch(`/user/${this.username}`, {
      method: 'post',
      body: {
        name: this.name,
        email: this.email,
      },
    });
  }
}
</code></pre>

</section>

  			
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout slack">
          <h6>Get help</h6>
          <p>If you need <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">help</a> with an exercise, please reach out to us on
             <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">Slack</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com<a/></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/react/data-modeling.md"},"description":"Learn how to handle data from the server in your React application \n","name":"learn-react/data-modeling","title":"Data Modeling","type":"page","parent":"learn-react","order":3,"comment":" ","pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
</body>
</html>
