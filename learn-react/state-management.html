<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE â€” ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/react/state-management.md
	@page learn-react/state-management
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Learn several different react  state management techniques and when to use them. 
">
  <title>Bitovi Academy - State Management</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-react.html"
							title="Learn how to write an app the React way. Learn what separates a beginner app from an expert app.">
							The React Way
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="guidelines.html"
							title="General guidelines for writing a React application. Always keep these in mind when building an app.">
							General Guidelines
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="state-management.html"
							title="Learn several different react  state management techniques and when to use them.">
							State Management
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="data-modeling.html"
							title="Learn how to handle data from the server in your React application">
							Data Modeling
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="routing.html"
							title="Learn to master routing in your React app with React Router.">
							Routing
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="styling.html"
							title="Learn several methods for styling your React application.">
							Styling
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to perform technology consulting.">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>State Management <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Learn several different react  state management techniques and when to use them.</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <p>React has several approaches to state management:</p>
<ul>
<li><strong>Simple Apps</strong>: hooks in the component</li>
<li><strong>Medium Apps</strong>: hook / provider pairs in a separate file</li>
<li><strong>Advanced Apps</strong>: a distinct state management library</li>
</ul>
<h2>Managing state via hooks directly in the component</h2>
<p>The simplest solution for state management is the <code>useState</code> hook. This allows you to create and manage state directly in your component, without needing to worry about external files or predefined data structures. In some cases, it may be helpful to upgrade this to a <code>useReducer</code>, though this may be a sign that you should be using a more complex state management option.</p>
<blockquote>
<p>If this does not look familiar, we recommend you checkout our <a href="overview/hooks.html" title="An overview of the built in React Hooks, as well as how to create your own.">Hooks Overview</a> guide.</p>
</blockquote>
<pre><code class="language-jsx">function Hello() {
  const [ count, setCount ] = useState(0);

  return (
    &lt;button onClick={() =&gt; setCount(1)}&gt;{count}&lt;/button&gt;
  );
}
</code></pre>
<h2>Custom Hooks and Hook / Provider Pairs</h2>
<h3>Simple Hooks</h3>
<p>The next step up, and what most applications should probably use, is custom hooks with provider pairs. (This pairs very well with the Models option in our <a href="data-modeling.html" title="Learn how to handle data from the server in your React application">Data Modeling</a> guide.) The code itself is very similar the simple solution, but it should be placed in a custom hook in a separate file rather than directly in the component. The primary impetus for doing this is due to the complexity of the logic.</p>
<pre><code class="language-jsx">function useValue() {
  const [ key, setKey ] = useState();
  const [ value, setValue ] = useState();

  useEffect(() =&gt; {
    fetch(`/value/${key}`).then(setValue);
  }, [ key ]);

  return [ { key, value }, setKey ];
}
</code></pre>
<h3>Adding a Provider</h3>
<p>The above hook will create a new instance of your data for each component that uses the hook. Often times, however, you will want to expose the same data to a variety of places in your application. This can be accomplished via <code>createContext</code> and <code>useContext</code>.</p>
<p>When using a context, we usually recommend using a custom provider and hook, rather than using <code>Context.Provider</code> calling <code>useContext</code> directly in your component. This keeps your implementation details confined to the file, so that if you need to change anything about the data structure, you only need to update the hook rather than every place it is utilized.</p>
<pre><code class="language-jsx">const Context = React.createContext();

export default function DataProvider({ children }) {
  const [ data, setData ] = useState({ count: 0 });

  return (
    &lt;Context.Provider value={{ ...data, setData }}&gt;{children}&lt;/Context.Provider&gt;
  );
}

export function useCount() {
  const { count, setData } = useContext(Context);

  const increment = () =&gt; setData(({ count, ...rest }) =&gt; ({ ...rest, count: count + 1 }));
  const decrement = () =&gt; setData(({ count, ...rest }) =&gt; ({ ...rest, count: count - 1 }));

  return {
    count,
    increment,
    decrement,
  };
}
</code></pre>
<h3>Taking Advantage of the Benefits</h3>
<p>Since you have already isolated your state management logic to an independent file, you can afford to add some extras to it without worrying about over-complicating your component. The primary gain there is via the use of <code>useMemo</code> and <code>useCallback</code>. These allow you to create methods and data with stable identities, preventing extra renders. The specific details of their usage is also covered in our <a href="overview/hooks.html" title="An overview of the built in React Hooks, as well as how to create your own.">Hooks Overview</a> guide.</p>
<p>Since You have a custom provider component, it also allows you to add custom logic to your data initialization, such as specifying an initial value or fetching it from a server.</p>
<pre><code class="language-jsx">import React, { useCallback, useContext, useMemo, useState } from 'react';

const Context = React.createContext();

export default function DataProvider({ initialCount, children }) {
  const [ data, setData ] = useState({ count: initialCount });

  // a shorthand for merging new data with old data
  const updateData = useCallback((data) =&gt;
    setData((current) =&gt; {
      // this allows us to create identity-stable functions later, mimicking `setData`
      if (typeof data === 'function') {
        data = data(current);
      }

      return { ...current, ...data };
    }), []);

  // combine data with functions that can be used to set/update the data
  // note that setData and updateData have stable identities
  const state = useMemo(() =&gt; ({ ...data, setData, updateData }), [ data ]);

  return (
    &lt;Context.Provider value={state}&gt;{children}&lt;/Context.Provider&gt;
  );
}

function useDataContext() {
  const context = useContext(Context);
  if (!context) {
    throw Error('DataProvider hooks may only be used inside a &lt;DataProvider /&gt;');
  }

  return context;
}

export function useCount() {
  const { count, updateData } = useDataContext();

  // identity-stable increment and decrement functions
  const increment = useCallback(() =&gt;
    updateData(({ count }) =&gt; ({ count: count + 1 })), [ updateData ]);
  const decrement = useCallback(() =&gt;
    updateData(({ count }) =&gt; ({ count: count - 1 })), [ updateData ]);

  return {
    count,
    increment,
    decrement,
  };
}
</code></pre>
<h2>Redux and Other Libraries</h2>
<p>Sometimes your project has special considerations: Perhaps you have a particularly large team or rapidly changing codebase and want to enforce an extremely strict model. Perhaps your team is coming from or porting code from another framework and you would like to stick with a familiar data structure.</p>
<p>These are the perfect opportunities to use an external state management library. The main player this field in Redux. The usage details of Redux are outside the bounds of this guide, but we recommend their <a href="https://react-redux.js.org/introduction/quick-start">Quick Start Guide</a> for further reading.</p>

</section>

  			
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout slack">
          <h6>Get help</h6>
          <p>If you need <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">help</a> with an exercise, please reach out to us on
             <a href="https://join.slack.com/t/bitovi-community/shared_invite/enQtNTIzMTE5NzYxMjA3LWMwMzE4MjFkMTI5ZmZjNzllYjc2MzcxOWNmOTg3YjI4NjE0MGFkZGNkOTNlZjlkNDBhNTlmYTcwMzJlZDZjY2Y">Slack</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com<a/></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/react/state-management.md"},"description":"Learn several different react  state management techniques and when to use them. \n","name":"learn-react/state-management","title":"State Management","type":"page","parent":"learn-react","order":2,"comment":" ","pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
</body>
</html>
