<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: src/react-native/14-user-inputs/user-inputs.md
	@page learn-react-native/user-inputs
######################################################################## -->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="UMCgjrWAjJW_tHmYo6AerdZvVdmh8QHdY9Ywb59tpHw" />
  <meta name="description" content="Use switch controls and inputs to collect information. 
">
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P9MQVJS');</script>
  <!-- End Google Tag Manager -->

  <title>Bitovi Academy - Handling User Inputs</title>
  
  <link rel="stylesheet" type="text/css" href="../static/bundles/bit-docs-site/static.css">
  
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P9MQVJS"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <div class="header">
    <div class="logo">
      <a href="https://www.bitovi.com/">Bitovi</a>
    </div>
    <ul>
      <li><a href="https://www.bitovi.com/services">Services</a></li>
      <li><a href="https://www.bitovi.com/client-work">Client Work</a></li>
      <li><a href="https://www.bitovi.com/about">Our Team</a></li>
      <li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
      <li><a href="https://www.bitovi.com/blog">Blog</a></li>
      <li><a href=".." class="active">Academy</a></li>
     </ul>
     <a class="contact-popup hs-button brand button-smallest" href="https://www.bitovi.com/contact">Contact Us</a>
  </div>

  <div class="content">
	
		<div class="sidebar-left">
  
    
	<ul>
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-advanced-javascript.html"
							title="This course covers all the hard but important stuff you should know when learning JavaScript.">
							Advanced JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-dom-jquery.html"
							title="Learn jQuery and the DOM APIs by building your own version of jQuery and using it to make a basic tabs widget. We strongly suggest finishing learn-advanced-javascript prior to starting this course.">
							DOM and jQuery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-to-debug-javascript.html"
							title="This course covers the basics of JavaScript debugging.">
							Debug JavaScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-typescript.html"
							title="This course covers the basic essentials of TypeScript. At the end, you should be ready to develop projects in TypeScript.">
							Learn TypeScript
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../learn-react-native.html"
							title="Learn React Native by building the feature-rich Place My Order application in this beginner React Native guide. This hands-on course will introduce you to fundamental React Native concepts! By the end of this course, you will have a strong understanding of JSX, function components, styling, state management, Hooks, data fetching, routing, and testing.">
							Learn React Native
						</a>
						
							
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="intro-to-react-native.html"
							title="Discover why React Native is a great choice for modern mobile application development.">
							Introduction to React Native
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="setting-up-your-environment.html"
							title="Learn how to set up your environment for React Native development.">
							Setting Up Your Environment
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="creating-a-new-app.html"
							title="Generate a new React Native application using the CLI.">
							Creating a New Application
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="intro-to-jsx.html"
							title="Learn how to use JSX to define your UI in React Native.">
							Introduction to JSX
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="intro-to-testing.html"
							title="Learn about testing solutions in React Native.">
							Introduction to Testing
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="building-custom-components.html"
							title="Learn about components, the core building blocks of every React application.">
							Building Custom Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="debugging-devtools.html"
							title="Learn how to set up and use both DevTools and Debugger.">
							Debugging and DevTools
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="styling.html"
							title="Learn how to use the style prop and the StyleSheet API in React Native.">
							Styling in React Native
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="react-context.html"
							title="Learn how to share a common theme by creating a React Context.">
							Using React Context
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="managing-state.html"
							title="Work with React’s useState Hook to manage a component’s state.">
							Managing State with useState
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="navigation.html"
							title="Learn how to use navigation to move between screens in a React Native app.">
							Navigation in React Native
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="navigation-params.html"
							title="Maintain the React state with React Native Navigation Parameters">
							Storing State in Navigation Parameters
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="making-http-requests.html"
							title="Learn about how to make fetch requests and render requested data in React Native components.">
							Making HTTP Requests
						</a>
						
					</li>
				
			
		
			
				
					<li class="current
           						parent
           						expanded">
						<a class="page"
							href="user-inputs.html"
							title="Use switch controls and inputs to collect information.">
							Handling User Inputs
						</a>
						
							

						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="using-asyncstorage.html"
							title="Store data locally on device with Async Storage and run data migrations with new versions of your application.">
							Using Async Storage
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="security-and-auth.html"
							title="Learn about security, authentication, and authorization by implementing Google Sign-In.">
							Security and Authentication
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="offline-support.html"
							title="Learn device-first strategies for storing data and syncing it to a server.">
							Adding Offline Support
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="google-maps.html"
							title="Learn how to integrate Google Maps into your React Native application.">
							Integrating Maps
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="performance-optimization.html"
							title="Improve the application’s launch time by implementing lazy loading.">
							Performance and Optimization
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="building.html"
							title="Learn how to build Android App Bundle (AAB) files.">
							Building React Native Apps
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="publishing-and-updating.html"
							title="Preparation for the steps to Publish and Update a production application on Stores.">
							Publishing and Updating
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-web-components.html"
							title="">
							Learn Web Components
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-agile-program-management-with-jira.html"
							title="Learn how to build, maintain, and report on accurate multi-team plans with Jira.">
							Agile Program Management With Jira
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-rxjs.html"
							title="Learn RxJS by creating a validating credit card form.">
							Learn RxJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../training.html"
							title="Learn how to prepare and give a training.">
							Giving a Training
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-technology-consulting.html"
							title="Learn how to move beyond writing code to be an excellent technology consultant!">
							Learn Technology Consulting
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-react.html"
							title="Learn React by building the feature-rich Place My Order application in this beginner React guide. This hands-on course will introduce you to fundamental React concepts! By the end of this course, you will have a strong understanding of JSX, function components, styling, state management, Hooks, data fetching, routing, and testing.">
							Learn React
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-ngrx.html"
							title="Learn how to manage state in an Angular application using NgRx.">
							Learn NgRx
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-graphql.html"
							title="Build a backend application for property rentals using Node JS, GraphQL and Apollo Server.         Learn about using ORMs like Mongoose and Prisma with a NoSQL Mongo database!
Write testcases testing created endpoints.">
							Learn Graphql
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-docker.html"
							title="Build and containerize a Node.js app then orchestrate multiple containers with docker-compose in this Docker guide.">
							Learn Docker
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-canjs.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							Learn CanJS
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../learn-angular.html"
							title="Learn how to build a moderately complex application with Angular.">
							Learn Angular
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../advanced-typescript.html"
							title="This is the second course in the TypeScript series. By the end, you will be comfortable with any types you come across and possess the knowledge to create your own advanced types. The only prerequisite is the first course in the TypeScript series found here.">
							Advanced TypeScript
						</a>
						
					</li>
				
			
		
	</ul>


  
  <p class="border">
      <a href="..#courses">View More Courses</a>
      <a class='bit-academy-fullscreen' title='fullscreen' href="javascript://">[ ]</a>
  </p>
</div>

	
	<article class="main">
    <div class="main-content">
  		
  			<section class="title">
	<h1>Handling User Inputs <code>page</code></h1>
</section>

  		

  		
  			
  				<section class="description">
    <p>Use switch controls and inputs to collect information.</p>

</section>

  			
  		

  		
  			
  				
  			
  			
  				<section class="body">
    <h2 id="overview">Overview</h2>
<p>In this section, you will:</p>
<ul>
<li>Handle checkbox-like behavior with <code>&lt;Switch&gt;</code>.</li>
<li>Use TypeScript’s <code>Record</code> interface.</li>
<li>Set state using an updater function.</li>
<li>Update reference types and rendering.</li>
<li>Use the <code>TextInput</code> component.</li>
<li>Label text inputs.</li>
<li>Create unique IDs with the <code>useId()</code> Hook.</li>
</ul>
<h2 id="objective-1-add-switch-controls-to-select-menu-items">Objective 1: Add switch controls to select menu items</h2>
<p>Now let’s create a <code>RestaurantOrder</code> view for users to start selecting menu items!</p>
<p>We’ll start with switch controls to select menu items, with a message that warns users when no items are selected and a total that shows the sum of the selected items.</p>
<div style="display: flex; flex-direction: row; gap: 2rem; flex-wrap: wrap;">
  <img alt="Screenshot of the top of the application restaurant order page." src="../static/img/react-native/14-user-input/01-solution-top.png" style="border: 4px solid black; border-radius: 25px;" height="640"/>
  <img alt="Screenshot of the bottom of the application restaurant order page." src="../static/img/react-native/14-user-input/01-solution-bottom.png" style="border: 4px solid black; border-radius: 25px;" height="640"/>
</div>
<h3 id="handling-checkbox-like-behavior-with-codeltswitchgtcode">Handling checkbox-like behavior with <code>&lt;Switch&gt;</code></h3>
<p>For boolean values, such as toggles, React Native provides the <code>Switch</code> component.
You handle changes using the <code>onValueChange</code> prop, which directly provides the new boolean value.</p>
<p>[If you’re familiar with web development, React Native does not have a direct equivalent to the HTML <code>&lt;input type=&quot;checkbox&quot;&gt;</code>.
Instead, you use the <code>&lt;Switch&gt;</code> component to achieve similar functionality.]</p>
<p>Let’s take a look at an example using <code>&lt;Switch&gt;</code>:</p>
<pre><code class="language-tsx">import { useState } from &quot;react&quot;
import { Switch, Text, View } from &quot;react-native&quot;

const SwitchExample = () =&gt; {
  const [isEnabled, setIsEnabled] = useState(false)

  return (
    &lt;View&gt;
      &lt;Switch
        onValueChange={(newValue) =&gt; setIsEnabled(newValue)}
        thumbColor={isEnabled ? &quot;#f5dd4b&quot; : &quot;#f4f3f4&quot;}
        trackColor={{ false: &quot;#767577&quot;, true: &quot;#81b0ff&quot; }}
        value={isEnabled}
      /&gt;
      &lt;Text&gt;{isEnabled ? &quot;Enabled&quot; : &quot;Disabled&quot;}&lt;/Text&gt;
    &lt;/View&gt;
  )
}

export default SwitchExample

</code></pre>
<div line-highlight='5, 9-14, only'></div>
<p>In the example above, you can see the <code>value</code> passed in is the <code>isEnabled</code> state.</p>
<p>Then, the <code>onValueChange</code> prop takes a function that will be called with the new value when the switch is toggled.
This is usually what you need, although there is an <a href="https://reactnative.dev/docs/switch#onchange"><code>onChange</code></a> prop if you need your function to be called with an event object instead.</p>
<h3 id="using-typescripts-coderecordcode-interface">Using TypeScript’s <code>Record</code> interface</h3>
<p>In our upcoming exercise, we want to store information in a JavaScript object.
We also want to use TypeScript so we can constrain the types used as keys and values.</p>
<p>TypeScript provides a handy interface named <code>Record</code> that we can use.
<code>Record</code> is a generic interface that requires two types: the first is the type of the keys, and the second is the type of the values.</p>
<p>For example, if we’re recording the items in a list that are selected, we might capture the item’s name and whether or not it’s selected like this:</p>
<pre><code class="language-tsx">import { useState } from &quot;react&quot;
import { View, Text, Switch } from &quot;react-native&quot;

const landmarks = [
  { id: &quot;0b90c705&quot;, name: &quot;Eiffel Tower&quot; },
  { id: &quot;5be758c1&quot;, name: &quot;Machu Picchu&quot; },
  { id: &quot;206025c3&quot;, name: &quot;Taj Mahal&quot; },
]

type SelectedItems = Record&lt;string, boolean&gt;

const Selected = () =&gt; {
  const [selected, setSelected] = useState&lt;SelectedItems&gt;({})

  function handleChange(name: string, isSelected: boolean) {
    setSelected((current) =&gt; ({ ...current, [name]: isSelected }))
  }

  return (
    &lt;View&gt;
      {landmarks.map((landmark) =&gt; {
        return (
          &lt;View
            key={landmark.id}
            style={{
              flexDirection: &quot;row&quot;,
              alignItems: &quot;center&quot;,
              marginBottom: 10,
            }}
          &gt;
            &lt;Text&gt;{landmark.name}: &lt;/Text&gt;
            &lt;Switch
              onValueChange={(newValue) =&gt;
                handleChange(landmark.name, newValue)
              }
              value={!!selected[landmark.name]}
            /&gt;
          &lt;/View&gt;
        )
      })}
    &lt;/View&gt;
  )
}

export default Selected

</code></pre>
<div line-highlight='10, 13, only'></div>
<p>We’ve explicitly defined the type of <code>useState</code> as a <code>Record&lt;string, boolean&gt;</code>; all the keys must be strings, and all the values must be booleans.
Fortunately, JavaScript’s <code>object</code> implements the <code>Record</code> interface, so we can set the default value to an empty <code>object</code> instance.</p>
<p>Now let’s see how we can use a <code>Record</code> to store state data.</p>
<h3 id="setting-state-using-an-updater-function">Setting state using an updater function</h3>
<p>One challenge we face when using an <code>object</code> for state is that we probably need to merge the current state value with the new state value.
Why?
Imagine we have a state object that already has multiple keys and values, and we need to add a new key and value.</p>
<p>Well, we’re in luck!
React already has a solution for this: the setter function returned by <code>useState</code> will accept an “updater function” that’s passed the “current” state value and should return the “next” state value.</p>
<pre><code class="language-tsx">import { useState } from &quot;react&quot;
import { View, Text, Switch } from &quot;react-native&quot;

const landmarks = [
  { id: &quot;0b90c705&quot;, name: &quot;Eiffel Tower&quot; },
  { id: &quot;5be758c1&quot;, name: &quot;Machu Picchu&quot; },
  { id: &quot;206025c3&quot;, name: &quot;Taj Mahal&quot; },
]

type SelectedItems = Record&lt;string, boolean&gt;

const Selected: React.FC = () =&gt; {
  const [selected, setSelected] = useState&lt;SelectedItems&gt;({})

  function handleSelectedChange(name: string, isSelected: boolean) {
    setSelected((currentSelectedItems) =&gt; {
      const updatedSelectedItems = {
        ...currentSelectedItems,
      }

      if (isSelected) {
        updatedSelectedItems[name] = true
      } else {
        delete updatedSelectedItems[name]
      }

      return updatedSelectedItems
    })
  }

  return (
    &lt;View&gt;
      {landmarks.map((landmark) =&gt; (
        &lt;View
          key={landmark.id}
          style={{
            flexDirection: &quot;row&quot;,
            alignItems: &quot;center&quot;,
            marginBottom: 10,
          }}
        &gt;
          &lt;Text&gt;{landmark.name}: &lt;/Text&gt;
          &lt;Switch
            onValueChange={(newValue) =&gt;
              handleSelectedChange(landmark.name, newValue)
            }
            value={!!selected[landmark.name]}
          /&gt;
        &lt;/View&gt;
      ))}
    &lt;/View&gt;
  )
}

export default Selected

</code></pre>
<div line-highlight='15-16, 27, 45, only'></div>
<p>In the example above, the <code>onChange</code> event handler calls <code>handleSelectedChange</code>, which accepts a name <code>string</code> and a <code>boolean</code>.</p>
<p>In turn, <code>handleSelectedChange</code> calls <code>setSelected</code> with an updater function as the argument.
The updater function accepts the <code>currentSelectedItems</code> argument, which is the object with the currently-selected items <em>before</em> our switch was toggled.</p>
<p>We will dig into <em>how</em> we create the <code>updatedSelectedItems</code> object in just a bit, but for now let’s take note that we create a new <code>updatedSelectedItems</code> object and return it from our updater function.
This gives React the updated <code>selected</code> state and allows React to re-render the component.</p>
<h3 id="updating-reference-types-and-rendering">Updating reference types and rendering</h3>
<p>Now let’s explain how the updater function works in the example above. The updater function <strong>does not mutate</strong> the current object, then return it; instead, it makes a new object and populates it with the contents of the current object.</p>
<p>This is an important detail because, after the updater function runs, React will compare the values of the current and next objects to determine if they are different. If they are <strong>different</strong>, React will re-render the <code>Selected</code> component; if they are the same, then React will do nothing.</p>
<p>The same rules apply when state is an array: create a new array, then update the contents of the new array.</p>
<p>Here’s how to add an item when state (<code>current</code>) is an array:</p>
<pre><code class="language-tsx">setSelectedOrders((current) =&gt; {
  const next = [...current, newOrder]
  return next
})
</code></pre>
<p>Here’s how to replace an item when state (<code>current</code>) is an array:</p>
<pre><code class="language-tsx">setUpdatedRestaurant((current) =&gt; {
  const next = [
    ...current.filter((item) =&gt; item.id !== updatedRestaurant.id),
    updatedRestaurant,
  ]

  return next
})
</code></pre>
<p>OK, that was a lot. Let’s start making some code changes so we can select menu items for an order.</p>
<h3 id="setup-1">Setup 1</h3>
<p>✏️ Update <strong>src/App.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { createBottomTabNavigator } from &quot;@react-navigation/bottom-tabs&quot;
import { NavigationContainer } from &quot;@react-navigation/native&quot;
import { createStackNavigator } from &quot;@react-navigation/stack&quot;
import Box from &quot;@shared/design/Box&quot;
import ThemeProvider, { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { Pressable } from &quot;react-native&quot;
import { SafeAreaView } from &quot;react-native-safe-area-context&quot;
import Icon from &quot;react-native-vector-icons/Ionicons&quot;

import CityList from &quot;./screens/CityList&quot;
import RestaurantDetails from &quot;./screens/RestaurantDetails&quot;
import RestaurantList from &quot;./screens/RestaurantList&quot;
import RestaurantOrder from &quot;./screens/RestaurantOrder&quot;
import Settings from &quot;./screens/Settings&quot;
import StateList from &quot;./screens/StateList&quot;

declare global {
  // eslint-disable-next-line @typescript-eslint/no-namespace
  namespace ReactNavigation {
    // eslint-disable-next-line @typescript-eslint/no-empty-interface
    interface RootParamList extends RestaurantsStackParamList {}
  }
}

export type RestaurantsStackParamList = {
  StateList: undefined
  CityList: {
    state: {
      name: string
      short: string
    }
  }
  RestaurantList: {
    state: {
      name: string
      short: string
    }
    city: {
      name: string
      state: string
    }
  }
  RestaurantDetails: {
    slug: string
  }
  RestaurantOrder: {
    slug: string
  }
}

const RestaurantsStack = createStackNavigator&lt;RestaurantsStackParamList&gt;()
const RestaurantsNavigator: React.FC = () =&gt; {
  return (
    &lt;RestaurantsStack.Navigator
      initialRouteName=&quot;StateList&quot;
      screenOptions={{
        header: ({ route, navigation }) =&gt; {
          if (!navigation.canGoBack()) return null

          return (
            &lt;Pressable onPress={navigation.goBack}&gt;
              &lt;Box
                padding=&quot;m&quot;
                style={{ flexDirection: &quot;row&quot;, gap: 8, alignItems: &quot;center&quot; }}
              &gt;
                &lt;Icon name=&quot;arrow-back&quot; size={20} /&gt;
                &lt;Typography variant=&quot;heading&quot;&gt;
                  {/* @ts-ignore */}
                  {[route.params?.city?.name, route.params?.state?.name]
                    .filter(Boolean)
                    .join(&quot;, &quot;)}
                &lt;/Typography&gt;
              &lt;/Box&gt;
            &lt;/Pressable&gt;
          )
        },
      }}
    &gt;
      &lt;RestaurantsStack.Screen name=&quot;StateList&quot; component={StateList} /&gt;
      &lt;RestaurantsStack.Screen name=&quot;CityList&quot; component={CityList} /&gt;
      &lt;RestaurantsStack.Screen
        name=&quot;RestaurantList&quot;
        component={RestaurantList}
      /&gt;
      &lt;RestaurantsStack.Screen
        name=&quot;RestaurantDetails&quot;
        component={RestaurantDetails}
      /&gt;
      {/* Exercise: Add RestaurantOrder page to the stack. */}
    &lt;/RestaurantsStack.Navigator&gt;
  )
}

const AppTabs = createBottomTabNavigator()
const AppNavigator: React.FC = () =&gt; {
  const theme = useTheme()

  return (
    &lt;AppTabs.Navigator
      initialRouteName=&quot;RestaurantsStack&quot;
      screenOptions={({ route }) =&gt; ({
        headerStyle: {
          backgroundColor: theme.palette.screen.main,
        },
        headerTitleStyle: {
          color: theme.palette.screen.contrast,
          ...theme.typography.title,
        },
        tabBarStyle: {
          backgroundColor: theme.palette.screen.main,
        },
        tabBarActiveTintColor: theme.palette.primary.strong,
        tabBarInactiveTintColor: theme.palette.screen.contrast,
        tabBarIcon: ({ focused, color }) =&gt; {
          let icon = &quot;settings&quot;
          if (route.name === &quot;Settings&quot;) {
            icon = focused ? &quot;settings&quot; : &quot;settings-outline&quot;
          } else if (route.name === &quot;Restaurants&quot;) {
            icon = focused ? &quot;restaurant&quot; : &quot;restaurant-outline&quot;
          }

          return &lt;Icon name={icon} size={20} color={color} /&gt;
        },
      })}
    &gt;
      &lt;AppTabs.Screen
        name=&quot;Restaurants&quot;
        component={RestaurantsNavigator}
        options={{ title: &quot;Place My Order&quot; }}
      /&gt;
      &lt;AppTabs.Screen
        name=&quot;Settings&quot;
        component={Settings}
        options={{ title: &quot;Settings&quot; }}
      /&gt;
    &lt;/AppTabs.Navigator&gt;
  )
}

const App: React.FC = () =&gt; {
  return (
    &lt;SafeAreaView style={{ flex: 1 }}&gt;
      &lt;ThemeProvider&gt;
        &lt;NavigationContainer&gt;
          &lt;AppNavigator /&gt;
        &lt;/NavigationContainer&gt;
      &lt;/ThemeProvider&gt;
    &lt;/SafeAreaView&gt;
  )
}

export default App

</code></pre>
 <div line-highlight="14,47-49,90,only"></div>
<p>✏️ Update <strong>src/screens/RestaurantDetails/RestaurantDetails.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import Loading from &quot;@shared/components/Loading&quot;
import RestaurantHeader from &quot;@shared/components/RestaurantHeader&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantDetailsProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantDetails&quot;&gt; {}

const RestaurantDetails: React.FC&lt;RestaurantDetailsProps&gt; = ({ route }) =&gt; {
  const { slug } = route.params
  const navigation = useNavigation()
  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `${restaurant.name}` })
    }
  }, [restaurant, navigation])

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant details:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  return (
    &lt;Screen&gt;
      &lt;RestaurantHeader restaurant={restaurant} /&gt;
      &lt;Button onPress={() =&gt; console.warn(&quot;Place an order&quot;)}&gt;
        Place an order
      &lt;/Button&gt;
      {/* Exercise: Add Button that links to RestaurantOrder page. */}
    &lt;/Screen&gt;
  )
}

export default RestaurantDetails

</code></pre>
 <div line-highlight="51,only"></div>
<p>✏️ Create <strong>src/screens/RestaurantOrder/RestaurantOrder.tsx</strong> and update it to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import FormSwitch from &quot;@shared/components/FormSwitch&quot;
import Loading from &quot;@shared/components/Loading&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Card from &quot;@shared/design/Card&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect, useState } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantOrderProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantOrder&quot;&gt; {}

type OrderItems = Record&lt;string, number&gt;

const RestaurantOrder: React.FC&lt;RestaurantOrderProps&gt; = ({ route }) =&gt; {
  const navigation = useNavigation()
  const { slug } = route.params

  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `Order from ${restaurant.name}` })
    }
  }, [restaurant, navigation])

  const handleOrder = () =&gt; {
    // eslint-disable-next-line no-console
    console.info(&quot;“Place My Order” button pressed!&quot;)
  }

  const selectedCount = Object.values(items).length
  const subtotal = 0 // Exercise: Use calculateTotal here.

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant order:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  if (!restaurant) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;Restaurant not found&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  return (
    &lt;Screen&gt;
      &lt;Card title=&quot;Lunch Menu&quot;&gt;
        {/* Exercise: List food items with checkboxes. */}
      &lt;/Card&gt;

      &lt;Card title=&quot;Dinner Menu&quot;&gt;
        {/* Exercise: List food items with checkboxes. */}
      &lt;/Card&gt;

      &lt;Card title=&quot;Order Details&quot;&gt;&lt;/Card&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        {subtotal === 0 ? (
          &lt;Typography&gt;Please choose an item.&lt;/Typography&gt;
        ) : (
          &lt;Typography&gt;{selectedCount} items selected.&lt;/Typography&gt;
        )}
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Typography variant=&quot;heading&quot;&gt;Total: ${subtotal.toFixed(2)}&lt;/Typography&gt;
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Button onPress={handleOrder}&gt;Place My Order!&lt;/Button&gt;
      &lt;/Box&gt;
    &lt;/Screen&gt;
  )
}

function calculateTotal(items: OrderItems) {
  return Object.values(items).reduce((total, itemPrice) =&gt; {
    return total + itemPrice
  }, 0)
}

export default RestaurantOrder

</code></pre>
<div line-highlight='37, 65, 69, only'></div>
<p>✏️ Create <strong>src/screens/RestaurantOrder/index.ts</strong> and update it to be:</p>
<pre><code class="language-ts">export { default } from &quot;./RestaurantOrder&quot;
export * from &quot;./RestaurantOrder&quot;

</code></pre>
<p>✏️ Create <strong>src/shared/components/FormSwitch/FormSwitch.tsx</strong> and update it to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { Switch } from &quot;react-native&quot;

export interface FormSwitchProps {
  label: string
  value: boolean
  onChange: (value: boolean) =&gt; void
}

const FormSwitch: React.FC&lt;FormSwitchProps&gt; = ({ label, value, onChange }) =&gt; {
  const theme = useTheme()

  return (
    &lt;Box
      style={{
        width: &quot;100%&quot;,
        flexDirection: &quot;row&quot;,
        justifyContent: &quot;space-between&quot;,
        alignItems: &quot;center&quot;,
        marginVertical: 8,
      }}
    &gt;
      &lt;Typography variant=&quot;label&quot;&gt;{label}&lt;/Typography&gt;
      &lt;Switch
        thumbColor={theme.palette.primary.contrast}
        trackColor={{
          true: theme.palette.primary.strong,
          false: theme.palette.screen.soft,
        }}
      &gt;&lt;/Switch&gt;
    &lt;/Box&gt;
  )
}

export default FormSwitch

</code></pre>
<div line-highlight='27-33, only'></div>
<p>✏️ Create <strong>src/shared/components/FormSwitch/index.ts</strong> and update it to be:</p>
<pre><code class="language-ts">export { default } from &quot;./FormSwitch&quot;
export * from &quot;./FormSwitch&quot;

</code></pre>
<h3 id="verify-1">Verify 1</h3>
<p>✏️ Create <strong>src/screens/RestaurantOrder/RestaurantOrder.test.tsx</strong> and update it to be:</p>
<pre><code class="language-tsx">import { NavigationContainer } from &quot;@react-navigation/native&quot;
import * as restaurantHooks from &quot;@shared/services/pmo/restaurant/hooks&quot;
import { render, screen } from &quot;@testing-library/react-native&quot;

import RestaurantOrder from &quot;./RestaurantOrder&quot;

const route = {
  key: &quot;RestaurantOrder&quot;,
  name: &quot;RestaurantOrder&quot;,
  params: {
    slug: &quot;bagel-restaurant&quot;,
  },
} as const

describe(&quot;Screens/RestaurantOrder&quot;, () =&gt; {
  // Mock the hooks and components used in RestaurantOrder

  const mockRestaurantResponse = {
    data: {
      name: &quot;Bagel Restaurant&quot;,
      slug: &quot;bagel-restaurant&quot;,
      images: {
        thumbnail: &quot;node_modules/place-my-order-assets/images/3-thumbnail.jpg&quot;,
        owner: &quot;node_modules/place-my-order-assets/images/1-owner.jpg&quot;,
        banner: &quot;node_modules/place-my-order-assets/images/2-banner.jpg&quot;,
      },
      menu: {
        lunch: [
          { name: &quot;Crab Pancakes with Sorrel Syrup&quot;, price: 35.99 },
          { name: &quot;Steamed Mussels&quot;, price: 21.99 },
          { name: &quot;Roasted Salmon&quot;, price: 23.99 },
        ],
        dinner: [
          { name: &quot;Truffle Noodles&quot;, price: 14.99 },
          { name: &quot;Spinach Fennel Watercress Ravioli&quot;, price: 35.99 },
          { name: &quot;Herring in Lavender Dill Reduction&quot;, price: 45.99 },
        ],
      },
      address: {
        street: &quot;285 W Adams Ave&quot;,
        city: &quot;Detroit&quot;,
        state: &quot;MI&quot;,
        zip: &quot;60045&quot;,
      },
      coordinate: {
        latitude: 0,
        longitude: 0,
      },
      resources: {
        thumbnail: &quot;api/resources/images/3-thumbnail.jpg&quot;,
        owner: &quot;api/resources/images/4-owner.jpg&quot;,
        banner: &quot;api/resources/images/1-banner.jpg&quot;,
      },
      _id: &quot;5NVE3Z5MXxX3O57R&quot;,
    },
  }

  let useRestaurant: jest.SpyInstance&lt;
    ReturnType&lt;typeof restaurantHooks.useRestaurant&gt;
  &gt;
  beforeEach(() =&gt; {
    jest.resetAllMocks()
    useRestaurant = jest.spyOn(restaurantHooks, &quot;useRestaurant&quot;)
  })

  it(&quot;renders&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      ...mockRestaurantResponse,
      error: undefined,
      isPending: false,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )
    expect(screen.getByText(/Lunch Menu/i)).toBeOnTheScreen()
    expect(
      screen.getByText(mockRestaurantResponse.data.menu.lunch[0].name, {
        exact: false,
      }),
    ).toBeOnTheScreen()
    expect(screen.getByText(/Dinner Menu/i)).toBeOnTheScreen()
    expect(
      screen.getByText(mockRestaurantResponse.data.menu.dinner[0].name, {
        exact: false,
      }),
    ).toBeOnTheScreen()
  })

  it(&quot;renders loading state&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      data: undefined,
      error: undefined,
      isPending: true,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )
    expect(screen.getByText(/Loading/i)).toBeOnTheScreen()
  })

  it(&quot;renders error state&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      data: undefined,
      error: { name: &quot;Oops&quot;, message: &quot;This is the error&quot; },
      isPending: false,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )

    expect(
      screen.getByText(/Error loading restaurant order:/),
    ).toBeOnTheScreen()
    expect(screen.getByText(/This is the error/)).toBeOnTheScreen()
  })
})

</code></pre>
<div line-highlight='67, 94, 110, only'></div>
<h3 id="exercise-1">Exercise 1</h3>
<ul>
<li>Add <code>RestaurantOrder</code> to the <code>NavigatorStack</code>.</li>
<li>Add a link from the <code>RestaurantOrder</code> view to the <code>RestaurantDetails</code> view.</li>
<li>Update <code>FormSwitch</code> to pass the required props to <code>Switch</code>.</li>
<li>Call <code>useState()</code> and use the <code>OrderItems</code> interface to create an <code>items</code> state.</li>
<li>Create a function for calling <code>setItems()</code> with the updated <code>items</code> state.</li>
<li>Update <code>subtotal</code> to use the <code>calculateTotal()</code> helper function.</li>
<li>List restaurant food items for both lunch and dinner menus with switches using <code>FormSwitchField</code>.</li>
</ul>
<p><strong>Hint:</strong> The <code>items</code> state will look like this when populated:</p>
<pre><code class="language-tsx">const items = {
  &quot;Menu item 1 name&quot;: 1.23, // Menu item 1 price
  &quot;Menu item 2 name&quot;: 4.56, // Menu item 2 price
}
</code></pre>
<h3 id="solution-1">Solution 1</h3>
<p>If you’ve implemented the solution correctly, the tests will pass when you run <code>npm run test</code>!</p>
<p><details>
<summary>Click to see the solution</summary></p>
<p>✏️ Update <strong>src/App.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { createBottomTabNavigator } from &quot;@react-navigation/bottom-tabs&quot;
import { NavigationContainer } from &quot;@react-navigation/native&quot;
import { createStackNavigator } from &quot;@react-navigation/stack&quot;
import Box from &quot;@shared/design/Box&quot;
import ThemeProvider, { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { Pressable } from &quot;react-native&quot;
import { SafeAreaView } from &quot;react-native-safe-area-context&quot;
import Icon from &quot;react-native-vector-icons/Ionicons&quot;

import CityList from &quot;./screens/CityList&quot;
import RestaurantDetails from &quot;./screens/RestaurantDetails&quot;
import RestaurantList from &quot;./screens/RestaurantList&quot;
import RestaurantOrder from &quot;./screens/RestaurantOrder&quot;
import Settings from &quot;./screens/Settings&quot;
import StateList from &quot;./screens/StateList&quot;

declare global {
  // eslint-disable-next-line @typescript-eslint/no-namespace
  namespace ReactNavigation {
    // eslint-disable-next-line @typescript-eslint/no-empty-interface
    interface RootParamList extends RestaurantsStackParamList {}
  }
}

export type RestaurantsStackParamList = {
  StateList: undefined
  CityList: {
    state: {
      name: string
      short: string
    }
  }
  RestaurantList: {
    state: {
      name: string
      short: string
    }
    city: {
      name: string
      state: string
    }
  }
  RestaurantDetails: {
    slug: string
  }
  RestaurantOrder: {
    slug: string
  }
}

const RestaurantsStack = createStackNavigator&lt;RestaurantsStackParamList&gt;()
const RestaurantsNavigator: React.FC = () =&gt; {
  return (
    &lt;RestaurantsStack.Navigator
      initialRouteName=&quot;StateList&quot;
      screenOptions={{
        header: ({ route, navigation }) =&gt; {
          if (!navigation.canGoBack()) return null

          return (
            &lt;Pressable onPress={navigation.goBack}&gt;
              &lt;Box
                padding=&quot;m&quot;
                style={{ flexDirection: &quot;row&quot;, gap: 8, alignItems: &quot;center&quot; }}
              &gt;
                &lt;Icon name=&quot;arrow-back&quot; size={20} /&gt;
                &lt;Typography variant=&quot;heading&quot;&gt;
                  {/* @ts-ignore */}
                  {[route.params?.city?.name, route.params?.state?.name]
                    .filter(Boolean)
                    .join(&quot;, &quot;)}
                &lt;/Typography&gt;
              &lt;/Box&gt;
            &lt;/Pressable&gt;
          )
        },
      }}
    &gt;
      &lt;RestaurantsStack.Screen name=&quot;StateList&quot; component={StateList} /&gt;
      &lt;RestaurantsStack.Screen name=&quot;CityList&quot; component={CityList} /&gt;
      &lt;RestaurantsStack.Screen
        name=&quot;RestaurantList&quot;
        component={RestaurantList}
      /&gt;
      &lt;RestaurantsStack.Screen
        name=&quot;RestaurantDetails&quot;
        component={RestaurantDetails}
      /&gt;
      &lt;RestaurantsStack.Screen
        name=&quot;RestaurantOrder&quot;
        component={RestaurantOrder}
      /&gt;
    &lt;/RestaurantsStack.Navigator&gt;
  )
}

const AppTabs = createBottomTabNavigator()
const AppNavigator: React.FC = () =&gt; {
  const theme = useTheme()

  return (
    &lt;AppTabs.Navigator
      initialRouteName=&quot;RestaurantsStack&quot;
      screenOptions={({ route }) =&gt; ({
        headerStyle: {
          backgroundColor: theme.palette.screen.main,
        },
        headerTitleStyle: {
          color: theme.palette.screen.contrast,
          ...theme.typography.title,
        },
        tabBarStyle: {
          backgroundColor: theme.palette.screen.main,
        },
        tabBarActiveTintColor: theme.palette.primary.strong,
        tabBarInactiveTintColor: theme.palette.screen.contrast,
        tabBarIcon: ({ focused, color }) =&gt; {
          let icon = &quot;settings&quot;
          if (route.name === &quot;Settings&quot;) {
            icon = focused ? &quot;settings&quot; : &quot;settings-outline&quot;
          } else if (route.name === &quot;Restaurants&quot;) {
            icon = focused ? &quot;restaurant&quot; : &quot;restaurant-outline&quot;
          }

          return &lt;Icon name={icon} size={20} color={color} /&gt;
        },
      })}
    &gt;
      &lt;AppTabs.Screen
        name=&quot;Restaurants&quot;
        component={RestaurantsNavigator}
        options={{ title: &quot;Place My Order&quot; }}
      /&gt;
      &lt;AppTabs.Screen
        name=&quot;Settings&quot;
        component={Settings}
        options={{ title: &quot;Settings&quot; }}
      /&gt;
    &lt;/AppTabs.Navigator&gt;
  )
}

const App: React.FC = () =&gt; {
  return (
    &lt;SafeAreaView style={{ flex: 1 }}&gt;
      &lt;ThemeProvider&gt;
        &lt;NavigationContainer&gt;
          &lt;AppNavigator /&gt;
        &lt;/NavigationContainer&gt;
      &lt;/ThemeProvider&gt;
    &lt;/SafeAreaView&gt;
  )
}

export default App

</code></pre>
 <div line-highlight="90-92,139,only"></div>
<p>✏️ Update <strong>src/shared/components/FormSwitch/FormSwitch.tsx</strong> to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { Switch } from &quot;react-native&quot;

export interface FormSwitchProps {
  label: string
  value: boolean
  onChange: (value: boolean) =&gt; void
}

const FormSwitch: React.FC&lt;FormSwitchProps&gt; = ({ label, value, onChange }) =&gt; {
  const theme = useTheme()

  return (
    &lt;Box
      style={{
        width: &quot;100%&quot;,
        flexDirection: &quot;row&quot;,
        justifyContent: &quot;space-between&quot;,
        alignItems: &quot;center&quot;,
        marginVertical: 8,
      }}
    &gt;
      &lt;Typography variant=&quot;label&quot;&gt;{label}&lt;/Typography&gt;
      &lt;Switch
        onValueChange={onChange}
        value={value}
        thumbColor={theme.palette.primary.contrast}
        trackColor={{
          true: theme.palette.primary.strong,
          false: theme.palette.screen.soft,
        }}
      &gt;&lt;/Switch&gt;
    &lt;/Box&gt;
  )
}

export default FormSwitch

</code></pre>
 <div line-highlight="27-28,only"></div>
<p>✏️ Update <strong>src/screens/RestaurantDetails/RestaurantDetails.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import Loading from &quot;@shared/components/Loading&quot;
import RestaurantHeader from &quot;@shared/components/RestaurantHeader&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantDetailsProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantDetails&quot;&gt; {}

const RestaurantDetails: React.FC&lt;RestaurantDetailsProps&gt; = ({ route }) =&gt; {
  const { slug } = route.params
  const navigation = useNavigation()
  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `${restaurant.name}` })
    }
  }, [restaurant, navigation])

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant details:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  return (
    &lt;Screen&gt;
      &lt;RestaurantHeader restaurant={restaurant} /&gt;
      &lt;Button
        onPress={() =&gt; {
          navigation.navigate(&quot;RestaurantOrder&quot;, { slug: slug })
        }}
      &gt;
        Place an order
      &lt;/Button&gt;
    &lt;/Screen&gt;
  )
}

export default RestaurantDetails

</code></pre>
 <div line-highlight="48-52,only"></div>
<p>✏️ Update <strong>src/screens/RestaurantOrder/RestaurantOrder.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import FormSwitch from &quot;@shared/components/FormSwitch&quot;
import Loading from &quot;@shared/components/Loading&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Card from &quot;@shared/design/Card&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect, useState } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantOrderProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantOrder&quot;&gt; {}

type OrderItems = Record&lt;string, number&gt;

const RestaurantOrder: React.FC&lt;RestaurantOrderProps&gt; = ({ route }) =&gt; {
  const navigation = useNavigation()
  const { slug } = route.params

  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  const [items, setItems] = useState&lt;OrderItems&gt;({})

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `Order from ${restaurant.name}` })
    }
  }, [restaurant, navigation])

  const handleOrder = () =&gt; {
    // eslint-disable-next-line no-console
    console.info(&quot;“Place My Order” button pressed!&quot;)
  }

  const setItem = (itemId: string, isChecked: boolean, itemPrice: number) =&gt; {
    return setItems((currentItems) =&gt; {
      const updatedItems = {
        ...currentItems,
      }
      if (isChecked) {
        updatedItems[itemId] = itemPrice
      } else {
        delete updatedItems[itemId]
      }
      return updatedItems
    })
  }

  const selectedCount = Object.values(items).length
  const subtotal = calculateTotal(items)

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant order:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  if (!restaurant) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;Restaurant not found&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  return (
    &lt;Screen&gt;
      &lt;Card title=&quot;Lunch Menu&quot;&gt;
        {restaurant.menu.lunch.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Dinner Menu&quot;&gt;
        {restaurant.menu.dinner.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Order Details&quot;&gt;&lt;/Card&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        {subtotal === 0 ? (
          &lt;Typography&gt;Please choose an item.&lt;/Typography&gt;
        ) : (
          &lt;Typography&gt;{selectedCount} items selected.&lt;/Typography&gt;
        )}
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Typography variant=&quot;heading&quot;&gt;Total: ${subtotal.toFixed(2)}&lt;/Typography&gt;
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Button onPress={handleOrder}&gt;Place My Order!&lt;/Button&gt;
      &lt;/Box&gt;
    &lt;/Screen&gt;
  )
}

function calculateTotal(items: OrderItems) {
  return Object.values(items).reduce((total, itemPrice) =&gt; {
    return total + itemPrice
  }, 0)
}

export default RestaurantOrder

</code></pre>
 <div line-highlight="26,39-50,54,81,86-93,97-104,only"></div>
<p></details></p>
<h2 id="objective-2-add-text-fields-to-collect-user-data">Objective 2: Add text fields to collect user data</h2>
<p>Next, we want to collect the user’s name, phone number, and address as part of the order.
To do this, we’ll use React Native’s <code>TextInput</code> component.</p>
<div style="display: flex; flex-direction: row; gap: 2rem; flex-wrap: wrap;">
  <img alt="Screenshot of the bottom of the application restaurant order page." src="../static/img/react-native/14-user-input/02-solution-bottom.png" style="border: 4px solid black; border-radius: 25px;" height="640"/>
</div>
<h3 id="using-the-codetextinputcode-component">Using the <code>TextInput</code> component</h3>
<p>For entering text, React Native uses the <code>TextInput</code> component.
Changes in text input are managed using the <code>onChangeText</code> prop, which receives the new text directly.</p>
<p>Here’s how you can use <code>TextInput</code> in your application:</p>
<pre><code class="language-tsx">import { useState } from &quot;react&quot;
import { Text, TextInput, View } from &quot;react-native&quot;

const InputExample = () =&gt; {
  const [text, setText] = useState(&quot;&quot;)

  return (
    &lt;View&gt;
      &lt;Text&gt;Enter your name:&lt;/Text&gt;
      &lt;TextInput onChangeText={(newText) =&gt; setText(newText)} value={text} /&gt;
    &lt;/View&gt;
  )
}

export default InputExample

</code></pre>
<div line-highlight='5, 10, only'></div>
<p>In this example, the <code>onChangeText</code> prop is passed a function that calls <code>setText</code> to store the text as state in the component.</p>
<h3 id="labelling-text-inputs">Labelling text inputs</h3>
<p>In the code above, we have a <code>&lt;Text&gt;</code> component in the view but it does not have a programmatic relationship with the <code>&lt;TextInput&gt;</code> itself.
This means that assistive technologies (such as screen readers) won’t know to announce the <code>Text</code> when the <code>TextInput</code> has focus.</p>
<p>To fix this, we can use the accessibility APIs:</p>
<pre><code class="language-tsx">import { useState } from &quot;react&quot;
import { Text, TextInput, View } from &quot;react-native&quot;

const InputExample = () =&gt; {
  const [text, setText] = useState(&quot;&quot;)

  return (
    &lt;View&gt;
      &lt;Text nativeID={&quot;name&quot;}&gt;Enter your name:&lt;/Text&gt;
      &lt;TextInput
        accessibilityLabel=&quot;input&quot;
        accessibilityLabelledBy={&quot;name&quot;}
        onChangeText={(newText) =&gt; setText(newText)}
        value={text}
      /&gt;
    &lt;/View&gt;
  )
}

export default InputExample

</code></pre>
 <div line-highlight="9-15,only"></div>
<p>In the code above, we add the following props:</p>
<ul>
<li><code>nativeID</code> on the <code>Text</code> to give it a unique ID.</li>
<li><code>accessibilityLabel</code> to indicate the <code>TextInput</code> is an “edit box.”</li>
<li><code>accessibilityLabelledBy</code> on the <code>TextInput</code> to associate it with the <code>Text</code> component.</li>
</ul>
<p>These three props combined will make the input accessible to assistive technologies.
For example, a screen reader would announce “Input, Edit Box for Enter your name” when the <code>TextInput</code> receives focus.</p>
<h3 id="creating-unique-ids-with-the-codeuseidcode-hook">Creating unique IDs with the <code>useId()</code> Hook</h3>
<p>There’s one minor issue with the code we have above: the <code>nativeID</code> prop’s value is pretty generic (<code>&quot;name&quot;</code>) and might accidentally be used multiple times across multiple views, causing confusion about which component is the right one to refer to!</p>
<p>To solve this, we can use the <code>useId</code> Hook to generate a unique ID:</p>
<pre><code class="language-tsx">import { useId, useState } from &quot;react&quot;
import { Text, TextInput, View } from &quot;react-native&quot;

const InputExample = () =&gt; {
  const id = useId()
  const [text, setText] = useState(&quot;&quot;)

  return (
    &lt;View&gt;
      &lt;Text nativeID={id}&gt;Enter your name:&lt;/Text&gt;
      &lt;TextInput
        accessibilityLabel=&quot;input&quot;
        accessibilityLabelledBy={id}
        onChangeText={(newText) =&gt; setText(newText)}
        value={text}
      /&gt;
    &lt;/View&gt;
  )
}

export default InputExample

</code></pre>
 <div line-highlight="1,5,10,13,only"></div>
<p>The value of <code>useId</code> is guaranteed to be unique within the component where it is used.
This is ideal for linking related components together, as is the case with <code>nativeID</code> and <code>accessibilityLabelledBy</code>.</p>
<h3 id="setup-2">Setup 2</h3>
<p>✏️ Create <strong>src/shared/components/FormTextField/FormTextField.tsx</strong> and update it to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useId } from &quot;react&quot;
import { TextInput } from &quot;react-native&quot;

export interface FormTextFieldProps {
  label: string
  type?: &quot;text&quot;
  value: string
  onChange?: (value: string) =&gt; void
}

const FormTextField: React.FC&lt;FormTextFieldProps&gt; = ({
  label,
  value,
  onChange,
}) =&gt; {
  const theme = useTheme()

  return (
    &lt;Box style={{ marginVertical: 8 }}&gt;
      {/* Exercise: Create Text Label and update TextInput to work with label. */}
      &lt;TextInput
        style={{
          flex: 1,
          paddingVertical: 0,
          borderBottomWidth: 1,
          borderBottomColor: theme.palette.screen.contrast,
          color: theme.palette.screen.contrast,
        }}
      /&gt;
    &lt;/Box&gt;
  )
}

export default FormTextField

</code></pre>
<div line-highlight='24, only'></div>
<p>✏️ Create <strong>src/shared/components/FormTextField/index.ts</strong> and update it to be:</p>
<pre><code class="language-ts">export { default } from &quot;./FormTextField&quot;
export * from &quot;./FormTextField&quot;

</code></pre>
<p>✏️ Update <strong>src/shared/components/FormSwitch/FormSwitch.tsx</strong> to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useId } from &quot;react&quot;
import { Switch } from &quot;react-native&quot;

export interface FormSwitchProps {
  label: string
  value: boolean
  onChange: (value: boolean) =&gt; void
}

const FormSwitch: React.FC&lt;FormSwitchProps&gt; = ({ label, value, onChange }) =&gt; {
  const theme = useTheme()

  return (
    &lt;Box
      style={{
        width: &quot;100%&quot;,
        flexDirection: &quot;row&quot;,
        justifyContent: &quot;space-between&quot;,
        alignItems: &quot;center&quot;,
        marginVertical: 8,
      }}
    &gt;
      &lt;Typography variant=&quot;label&quot;&gt;{label}&lt;/Typography&gt;
      &lt;Switch
        onValueChange={onChange}
        thumbColor={theme.palette.primary.contrast}
        trackColor={{
          true: theme.palette.primary.strong,
          false: theme.palette.screen.soft,
        }}
        value={value}
      &gt;&lt;/Switch&gt;
    &lt;/Box&gt;
  )
}

export default FormSwitch

</code></pre>
 <div line-highlight="4,only"></div>
<p>✏️ Update <strong>src/screens/RestaurantOrder/RestaurantOrder.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import FormSwitch from &quot;@shared/components/FormSwitch&quot;
import FormTextField from &quot;@shared/components/FormTextField&quot;
import Loading from &quot;@shared/components/Loading&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Card from &quot;@shared/design/Card&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect, useState } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantOrderProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantOrder&quot;&gt; {}

type OrderItems = Record&lt;string, number&gt;

const RestaurantOrder: React.FC&lt;RestaurantOrderProps&gt; = ({ route }) =&gt; {
  const navigation = useNavigation()
  const { slug } = route.params

  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  const [items, setItems] = useState&lt;OrderItems&gt;({})
  // Exercise: Store state for new FormTextFields in RestaurantOrder.

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `Order from ${restaurant.name}` })
    }
  }, [restaurant, navigation])

  const handleOrder = () =&gt; {
    // eslint-disable-next-line no-console
    console.info(&quot;“Place My Order” button pressed!&quot;)
  }

  const setItem = (itemId: string, isChecked: boolean, itemPrice: number) =&gt; {
    return setItems((currentItems) =&gt; {
      const updatedItems = {
        ...currentItems,
      }
      if (isChecked) {
        updatedItems[itemId] = itemPrice
      } else {
        delete updatedItems[itemId]
      }
      return updatedItems
    })
  }

  const selectedCount = Object.values(items).length
  const subtotal = calculateTotal(items)

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant order:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  if (!restaurant) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;Restaurant not found&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  return (
    &lt;Screen&gt;
      &lt;Card title=&quot;Lunch Menu&quot;&gt;
        {restaurant.menu.lunch.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Dinner Menu&quot;&gt;
        {restaurant.menu.dinner.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Order Details&quot;&gt;
        {/* Exercise: Use name, phone, and address fields to create FormTextField elements. */}
      &lt;/Card&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        {subtotal === 0 ? (
          &lt;Typography&gt;Please choose an item.&lt;/Typography&gt;
        ) : (
          &lt;Typography&gt;{selectedCount} items selected.&lt;/Typography&gt;
        )}
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Typography variant=&quot;heading&quot;&gt;Total: ${subtotal.toFixed(2)}&lt;/Typography&gt;
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Button onPress={handleOrder}&gt;Place My Order!&lt;/Button&gt;
      &lt;/Box&gt;
    &lt;/Screen&gt;
  )
}

function calculateTotal(items: OrderItems) {
  return Object.values(items).reduce((total, itemPrice) =&gt; {
    return total + itemPrice
  }, 0)
}

export default RestaurantOrder

</code></pre>
 <div line-highlight="4,28,109-111,only"></div>
<h3 id="verify-2">Verify 2</h3>
<p>✏️ Create <strong>src/shared/components/FormTextField/FormTextField.test.tsx</strong> and update it to be:</p>
<pre><code class="language-tsx">import { render, screen, userEvent } from &quot;@testing-library/react-native&quot;

import FormTextField from &quot;./FormTextField&quot;

beforeEach(() =&gt; {
  jest.resetAllMocks()
  jest.useFakeTimers()
})

describe(&quot;Components/FormTextField&quot;, () =&gt; {
  it(&quot;renders and handles input change&quot;, async () =&gt; {
    const handleChangeMock = jest.fn()
    render(
      &lt;FormTextField
        label=&quot;Hello!&quot;
        onChange={handleChangeMock}
        value=&quot;response&quot;
      /&gt;,
    )

    const user = userEvent.setup()
    expect(screen.getByText(/Hello/)).toBeTruthy()

    await user.type(screen.getByLabelText(/Hello/i), &quot;test&quot;)

    expect(handleChangeMock).toHaveBeenCalledTimes(4)
    expect(handleChangeMock).toHaveBeenNthCalledWith(1, &quot;responset&quot;)
    expect(handleChangeMock).toHaveBeenNthCalledWith(2, &quot;responsee&quot;)
    expect(handleChangeMock).toHaveBeenNthCalledWith(3, &quot;responses&quot;)
    expect(handleChangeMock).toHaveBeenNthCalledWith(4, &quot;responset&quot;)
  })
})

</code></pre>
<div line-highlight='11, only'></div>
<p>✏️ Update <strong>src/screens/RestaurantOrder/RestaurantOrder.test.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { NavigationContainer } from &quot;@react-navigation/native&quot;
import * as restaurantHooks from &quot;@shared/services/pmo/restaurant/hooks&quot;
import { render, screen } from &quot;@testing-library/react-native&quot;

import RestaurantOrder from &quot;./RestaurantOrder&quot;

const route = {
  key: &quot;RestaurantOrder&quot;,
  name: &quot;RestaurantOrder&quot;,
  params: {
    slug: &quot;bagel-restaurant&quot;,
  },
} as const

describe(&quot;Screens/RestaurantOrder&quot;, () =&gt; {
  // Mock the hooks and components used in RestaurantOrder

  const mockRestaurantResponse = {
    data: {
      name: &quot;Bagel Restaurant&quot;,
      slug: &quot;bagel-restaurant&quot;,
      images: {
        thumbnail: &quot;node_modules/place-my-order-assets/images/3-thumbnail.jpg&quot;,
        owner: &quot;node_modules/place-my-order-assets/images/1-owner.jpg&quot;,
        banner: &quot;node_modules/place-my-order-assets/images/2-banner.jpg&quot;,
      },
      menu: {
        lunch: [
          { name: &quot;Crab Pancakes with Sorrel Syrup&quot;, price: 35.99 },
          { name: &quot;Steamed Mussels&quot;, price: 21.99 },
          { name: &quot;Roasted Salmon&quot;, price: 23.99 },
        ],
        dinner: [
          { name: &quot;Truffle Noodles&quot;, price: 14.99 },
          { name: &quot;Spinach Fennel Watercress Ravioli&quot;, price: 35.99 },
          { name: &quot;Herring in Lavender Dill Reduction&quot;, price: 45.99 },
        ],
      },
      address: {
        street: &quot;285 W Adams Ave&quot;,
        city: &quot;Detroit&quot;,
        state: &quot;MI&quot;,
        zip: &quot;60045&quot;,
      },
      coordinate: {
        latitude: 0,
        longitude: 0,
      },
      resources: {
        thumbnail: &quot;api/resources/images/3-thumbnail.jpg&quot;,
        owner: &quot;api/resources/images/4-owner.jpg&quot;,
        banner: &quot;api/resources/images/1-banner.jpg&quot;,
      },
      _id: &quot;5NVE3Z5MXxX3O57R&quot;,
    },
  }

  let useRestaurant: jest.SpyInstance&lt;
    ReturnType&lt;typeof restaurantHooks.useRestaurant&gt;
  &gt;
  beforeEach(() =&gt; {
    jest.resetAllMocks()
    useRestaurant = jest.spyOn(restaurantHooks, &quot;useRestaurant&quot;)
  })

  it(&quot;renders&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      ...mockRestaurantResponse,
      error: undefined,
      isPending: false,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )
    expect(screen.getByText(/Lunch Menu/i)).toBeOnTheScreen()
    expect(
      screen.getByText(mockRestaurantResponse.data.menu.lunch[0].name, {
        exact: false,
      }),
    ).toBeOnTheScreen()
    expect(screen.getByText(/Dinner Menu/i)).toBeOnTheScreen()
    expect(
      screen.getByText(mockRestaurantResponse.data.menu.dinner[0].name, {
        exact: false,
      }),
    ).toBeOnTheScreen()

    expect(screen.getByLabelText(/Name/i)).toBeOnTheScreen()
    expect(screen.getByLabelText(/Phone/i)).toBeOnTheScreen()
    expect(screen.getByLabelText(/Address/i)).toBeOnTheScreen()
  })

  it(&quot;renders loading state&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      data: undefined,
      error: undefined,
      isPending: true,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )
    expect(screen.getByText(/Loading/i)).toBeOnTheScreen()
  })

  it(&quot;renders error state&quot;, () =&gt; {
    useRestaurant.mockReturnValue({
      data: undefined,
      error: { name: &quot;Oops&quot;, message: &quot;This is the error&quot; },
      isPending: false,
    })

    render(
      &lt;NavigationContainer&gt;
        {/* @ts-ignore */}
        &lt;RestaurantOrder route={route} /&gt;
      &lt;/NavigationContainer&gt;,
    )

    expect(
      screen.getByText(/Error loading restaurant order:/),
    ).toBeOnTheScreen()
    expect(screen.getByText(/This is the error/)).toBeOnTheScreen()
  })
})

</code></pre>
 <div line-highlight="92-94,only"></div>
<h3 id="exercise-2">Exercise 2</h3>
<p>Let’s fully implement our <code>FormTextField</code> component and have it:</p>
<ul>
<li>Create a unique ID with <code>useId()</code>.</li>
<li>Use a <code>&lt;Typography variant=&quot;label&quot;&gt;</code> component with a <code>nativeID</code>.</li>
<li>Associate the <code>&lt;Typography&gt;</code> and <code>&lt;TextInput&gt;</code> components with the correct props for accessibility.</li>
<li>Add the <code>onChangeText</code> and <code>value</code> props to the <code>&lt;TextInput&gt;</code> component.</li>
</ul>
<p>Additionally, let’s update the <code>FormSwitch</code> component to:</p>
<ul>
<li>Associate the <code>&lt;Switch&gt;</code> component with the correct props for accessibility.</li>
</ul>
<p>Finally, let’s update the <code>RestaurantOrder</code> component to:</p>
<ul>
<li>Have state variables and setters for <code>address</code>, <code>phone</code>, and <code>name</code>.</li>
<li>Use <code>&lt;FormTextField&gt;</code> to create text fields for these three state variables.</li>
</ul>
<h3 id="solution-2">Solution 2</h3>
<p>If you’ve implemented the solution correctly, the tests will pass when you run <code>npm run test</code>!</p>
<p><details>
<summary>Click to see the solution</summary></p>
<p>✏️ Update <strong>src/shared/components/FormTextField/FormTextField.tsx</strong> to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useId } from &quot;react&quot;
import { TextInput } from &quot;react-native&quot;

export interface FormTextFieldProps {
  label: string
  type?: &quot;text&quot;
  value: string
  onChange?: (value: string) =&gt; void
}

const FormTextField: React.FC&lt;FormTextFieldProps&gt; = ({
  label,
  value,
  onChange,
}) =&gt; {
  const theme = useTheme()
  const id = useId()

  return (
    &lt;Box style={{ marginVertical: 8 }}&gt;
      &lt;Typography nativeID={id} variant=&quot;label&quot;&gt;
        {label}
      &lt;/Typography&gt;
      &lt;TextInput
        accessibilityLabel=&quot;Input&quot;
        accessibilityLabelledBy={id}
        onChangeText={onChange}
        value={value}
        style={{
          flex: 1,
          paddingVertical: 0,
          borderBottomWidth: 1,
          borderBottomColor: theme.palette.screen.contrast,
          color: theme.palette.screen.contrast,
        }}
      /&gt;
    &lt;/Box&gt;
  )
}

export default FormTextField

</code></pre>
 <div line-highlight="20,24-26,28-31,only"></div>
<p>✏️ Update <strong>src/shared/components/FormSwitch/FormSwitch.tsx</strong> to be:</p>
<pre><code class="language-tsx">import Box from &quot;@shared/design/Box&quot;
import { useTheme } from &quot;@shared/design/theme&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useId } from &quot;react&quot;
import { Switch } from &quot;react-native&quot;

export interface FormSwitchProps {
  label: string
  value: boolean
  onChange: (value: boolean) =&gt; void
}

const FormSwitch: React.FC&lt;FormSwitchProps&gt; = ({ label, value, onChange }) =&gt; {
  const theme = useTheme()
  const id = useId()

  return (
    &lt;Box
      style={{
        width: &quot;100%&quot;,
        flexDirection: &quot;row&quot;,
        justifyContent: &quot;space-between&quot;,
        alignItems: &quot;center&quot;,
        marginVertical: 8,
      }}
    &gt;
      &lt;Typography nativeID={id} variant=&quot;label&quot;&gt;
        {label}
      &lt;/Typography&gt;
      &lt;Switch
        accessibilityLabel=&quot;Toggle&quot;
        accessibilityLabelledBy={id}
        onValueChange={onChange}
        value={value}
        thumbColor={theme.palette.primary.contrast}
        trackColor={{
          true: theme.palette.primary.strong,
          false: theme.palette.screen.soft,
        }}
      &gt;&lt;/Switch&gt;
    &lt;/Box&gt;
  )
}

export default FormSwitch

</code></pre>
 <div line-highlight="15,27-29,31-32,only"></div>
<p>✏️ Update <strong>src/screens/RestaurantOrder/RestaurantOrder.tsx</strong> to be:</p>
<pre><code class="language-tsx">import { useNavigation } from &quot;@react-navigation/native&quot;
import { StackScreenProps } from &quot;@react-navigation/stack&quot;
import FormSwitch from &quot;@shared/components/FormSwitch&quot;
import FormTextField from &quot;@shared/components/FormTextField&quot;
import Loading from &quot;@shared/components/Loading&quot;
import Box from &quot;@shared/design/Box&quot;
import Button from &quot;@shared/design/Button&quot;
import Card from &quot;@shared/design/Card&quot;
import Screen from &quot;@shared/design/Screen&quot;
import Typography from &quot;@shared/design/Typography&quot;
import { useRestaurant } from &quot;@shared/services/pmo/restaurant&quot;
import { useEffect, useState } from &quot;react&quot;

import { RestaurantsStackParamList } from &quot;../../App&quot;

export interface RestaurantOrderProps
  extends StackScreenProps&lt;RestaurantsStackParamList, &quot;RestaurantOrder&quot;&gt; {}

type OrderItems = Record&lt;string, number&gt;

const RestaurantOrder: React.FC&lt;RestaurantOrderProps&gt; = ({ route }) =&gt; {
  const navigation = useNavigation()
  const { slug } = route.params

  const { data: restaurant, error, isPending } = useRestaurant({ slug })

  const [items, setItems] = useState&lt;OrderItems&gt;({})
  const [name, setName] = useState&lt;string&gt;(&quot;&quot;)
  const [phone, setPhone] = useState&lt;string&gt;(&quot;&quot;)
  const [address, setAddress] = useState&lt;string&gt;(&quot;&quot;)

  useEffect(() =&gt; {
    if (restaurant) {
      navigation.setOptions({ title: `Order from ${restaurant.name}` })
    }
  }, [restaurant, navigation])

  const handleOrder = () =&gt; {
    // eslint-disable-next-line no-console
    console.info(&quot;“Place My Order” button pressed!&quot;)
  }

  const setItem = (itemId: string, isChecked: boolean, itemPrice: number) =&gt; {
    return setItems((currentItems) =&gt; {
      const updatedItems = {
        ...currentItems,
      }
      if (isChecked) {
        updatedItems[itemId] = itemPrice
      } else {
        delete updatedItems[itemId]
      }
      return updatedItems
    })
  }

  const selectedCount = Object.values(items).length
  const subtotal = calculateTotal(items)

  if (error) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;
            Error loading restaurant order:{&quot; &quot;}
          &lt;/Typography&gt;
          &lt;Typography variant=&quot;body&quot;&gt;{error.message}&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  if (isPending) {
    return &lt;Loading /&gt;
  }

  if (!restaurant) {
    return (
      &lt;Screen&gt;
        &lt;Box padding=&quot;m&quot;&gt;
          &lt;Typography variant=&quot;heading&quot;&gt;Restaurant not found&lt;/Typography&gt;
        &lt;/Box&gt;
      &lt;/Screen&gt;
    )
  }

  return (
    &lt;Screen&gt;
      &lt;Card title=&quot;Lunch Menu&quot;&gt;
        {restaurant.menu.lunch.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Dinner Menu&quot;&gt;
        {restaurant.menu.dinner.map(({ name, price }) =&gt; (
          &lt;FormSwitch
            key={name}
            label={`${name} ($${price})`}
            onChange={(value) =&gt; setItem(name, value, price)}
            value={name in items}
          /&gt;
        ))}
      &lt;/Card&gt;

      &lt;Card title=&quot;Order Details&quot;&gt;
        &lt;FormTextField label=&quot;Name&quot; onChange={setName} value={name} /&gt;
        &lt;FormTextField label=&quot;Phone&quot; onChange={setPhone} value={phone} /&gt;
        &lt;FormTextField label=&quot;Address&quot; onChange={setAddress} value={address} /&gt;
      &lt;/Card&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        {subtotal === 0 ? (
          &lt;Typography&gt;Please choose an item.&lt;/Typography&gt;
        ) : (
          &lt;Typography&gt;{selectedCount} items selected.&lt;/Typography&gt;
        )}
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Typography variant=&quot;heading&quot;&gt;Total: ${subtotal.toFixed(2)}&lt;/Typography&gt;
      &lt;/Box&gt;

      &lt;Box padding=&quot;s&quot;&gt;
        &lt;Button onPress={handleOrder}&gt;Place My Order!&lt;/Button&gt;
      &lt;/Box&gt;
    &lt;/Screen&gt;
  )
}

function calculateTotal(items: OrderItems) {
  return Object.values(items).reduce((total, itemPrice) =&gt; {
    return total + itemPrice
  }, 0)
}

export default RestaurantOrder

</code></pre>
 <div line-highlight="28-30,112-114,only"></div>
<p></details></p>
<h2 id="next-steps">Next steps</h2>
<p>Next, in order to retain data to limit requests and migrating the same data, let’s look into <a href="./using-asyncstorage">Using AsyncStorage</a>.</p>

</section>

  			
  			<bit-prev-next class="footer" list-selector=".sidebar-left ul li.parent.expanded ul"></bit-prev-next>
  		
    </div>

    
      <div class="sidebar-right">
        <div class="content-nav on-this-page-container">
          <h6>On this page...</h6>
          <div class="list-items" id="scroll-toc">
            <bit-toc heading-container-selector="article.main" scroll-selector="#scroll-toc"></bit-toc>
          </div>
        </div>
        <div class="pullout discord">
          <h6>Get help</h6>
          <p>If you need <a href="https://discord.gg/J7ejFsZnJ4">help</a> with an exercise, please reach out to us on
             <a href="https://discord.gg/J7ejFsZnJ4">Discord</a></p>
        </div>
        <div class="pullout bug">
          <p>If you find a bug, please
             <a href="https://github.com/bitovi/academy/issues/new">create an issue</a> or email
             <a href="mailto:contact@bitovi.com?Subject=Training%20Suggestion" target="_blank">contact@bitovi.com</a></p>
        </div>
      </div>
    

	</article>
</div>



  <footer></footer>

  <div id="scripts">
    <script type="text/javascript">
      var docObject = {"src":{"path":"src/react-native/14-user-inputs/user-inputs.md"},"description":"Use switch controls and inputs to collect information. \n","name":"learn-react-native/user-inputs","title":"Handling User Inputs","type":"page","parent":"learn-react-native","order":14,"outline":{"depth":3},"comment":" ","pathToRoot":"../.."};
    </script>

    
      <script>
        steal = {
          instantiated: {
            "bundles/bit-docs-site/static.css!$css" : null
          }
        }
      </script>
      <script type='text/javascript'
          data-main="bit-docs-site/static"
          src="../static/steal.production.js"></script>
    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2302003-12"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-2302003-12');
    </script>

  </div>
  <div id="email-modal" role="dialog" aria-modal="true" aria-labelledby="dialog_label" style="display: none;">
    <div aria-hidden="true" class="email-modal-backdrop"></div>
    <div role="region" class="email-modal-content">
      <h2 id="dialog_label">Join the Bitovi Newsletter</h2>
      <p>
        Do you want to receive updates about new Bitovi Academy courses, Bitovi open source projects, and dev community news? If so, please provide your email. We won’t spam you or give it away for any reason!<br />
        <i style="font-size: 0.8rem;">By providing your email you agree to receive communications from Bitovi</i>
      </p>
      <div id="academy-hubspot-form-embed"></div>
      <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
      <button id="email-modal-close" title="dismiss"><img src="../static/img/close.svg" height="24" width="24"></button>
    </div>
  </div>
</body>
</html>
