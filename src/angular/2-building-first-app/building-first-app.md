@page learn-angular/building-our-first-app Generate an App
@parent learn-angular 2

@description Learn how to generate an Angular 17 application with its command line interface (CLI).

@body

## How to Use This Guide

This guide will walk you through building an application in Angular 17. Each page of the guide is based on building a new feature, and may have multiple "problems" to solve. Each problem will be explained and include requirements and any set-up steps needed. Most problems will also include unit tests to update to verify the solution has been implemented correctly. The ‚úèÔ∏è icon will be used to indicate when commands need to be run or when files need to be updated. If you have any issues or suggestions as you move through this training, we‚Äôd love you to submit a <a href="https://github.com/bitovi/academy/issues/new">GitHub issue</a> for it! üíñ

## Overview

In this part, we will:

- Explore tools that aid Angular Development
- Install Angular‚Äôs CLI
- Generate a new app
- Look at the files generated by the CLI
- Learn to serve our app

## Problem

We want to create a new Angular application and update it to say **Place My Order App: Coming Soon!** in an `<h1>` element.

<img src="../static/img/angular/2-generate-an-app/after.png"
  style="border: solid 1px black; max-width: 320px;"/>

## What you need to know

To complete this exercise, you are going to want:

- Select a code editor / IDE
- To install Angular‚Äôs CLI
- Use the CLI to generate a new app
- Understand the files generated
- Serve the app

## Selecting a code editor

If you‚Äôre looking for a code editor (aka IDE) to improve your Angular development - VS Code is widely used by the community but other editors like Webstorm are fine as well. Plugins can go a long way in aiding the development process.

### Visual Studio Code

<a href="https://code.visualstudio.com/">VS Code</a> is Microsoft‚Äôs modern take on an IDE for app development (P.S. TypeScript is a Microsoft Open Source project). VS Code has built in TypeScript support for syntax highlighting, IntelliSense code completion, and linting.

<a href="../static/img/vs-code-screenshot.png"><img src="../static/img/vs-code-screenshot.png" width="100%" alt="Visual Studio Code screenshot" /></a>

Helpful Plugins:

- <a href="https://marketplace.visualstudio.com/items?itemName=Angular.ng-template">Angular Language Service</a>
- <a href="https://marketplace.visualstudio.com/items?itemName=johnpapa.Angular2">Angular Snippets</a>

### Webstorm

<a href="https://www.jetbrains.com/webstorm/download/">Webstorm</a> is a platform by JetBrains that is loved for its great code refactoring assistance and version control integration, but it does require a paid subscription.

<a href="../static/img/webstorm-screenshot.png"><img src="../static/img/webstorm-screenshot.png" width="100%" alt="Webstorm screenshot" /></a>

Helpful Plugins:

- <a href="https://next.angular.io/guide/language-service">Angular Language Service</a>

## Installing the CLI

Angular has a command line interface or CLI that does a lot of the initial legwork in setting up a minimal app, as well as letting you easily create and include new components on the fly.

We‚Äôll start by globally installing the Angular CLI using npm.

‚úèÔ∏è Run the following:

```shell
npm install -g @angular/cli@17
```

## Generating a new app

Our final goal is to build a restaurant menu and ordering application, which should look something like this:

![Place My Order App screenshot](../static/img/place-my-order.png 'Place My Order App screenshot')

(reminder: You can see a DoneJS implementation of this application at [www.place-my-order.com](http://www.place-my-order.com))

‚úèÔ∏è To create a new Angular Workspace, run the `ng new` command:

```shell
ng new place-my-order --prefix pmo --standalone false
cd place-my-order
```

This will create a new Angular Workspace, generate an app module, needed config files, and test suite for your new Angular project. You‚Äôll be asked a series of set-up questions:

1. Which stylesheet format would you like to use? (**Less**)
2. Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)? (**No**)

Note that we used the `--prefix` property above to set our own default prefix. Angular‚Äôs default prefix is `app`, but a good naming convention is to use a short prefix related to your company or application name, which helps to easily differentiate from 3rd party utilities.

```html
<!-- this looks like it‚Äôs one of our own app components -->
<pmo-header></pmo-header>

<!-- safe to assume this a 3rd party -->
<tabset>
  <tab heading="Basic title" id="tab1">Basic content</tab>
  <tab heading="Basic Title 1">Basic content 1</tab>
  <tab heading="Basic Title 2">Basic content 2</tab>
</tabset>
```

We also set the standalone option to `false`.

Standalone Angular apps drop modules in favor of <a href="https://angular.io/guide/standalone-components">Standalone Components</a> and have a slightly simpler architecture.
While new Angular apps default to standalone `true`, for the purposes of this training we will still use <a href="https://angular.io/guide/architecture-modules">Angular Modules</a>.

There are [several more helpful properties](https://angular.io/cli/new) that customize how a project is set up.

### Having issues with your local setup?

You can get through most of this tutorial by using an online code editor. You won‚Äôt be able to run our tests to verify your solution, but you will be able to make changes to your app and see them live.

You can use one of these two online editors:

- [StackBlitz](https://stackblitz.com/fork/github/bitovi/academy/tree/main/exercises/angular/2-building-first-app/problem?file=src/app/app.component.html)

- [CodeSandbox](https://codesandbox.io/p/devbox/github/bitovi/academy/tree/main/exercises/angular/2-building-first-app/problem?file=src/app/app.component.html)

## Looking at Our Generated Workspace

Let‚Äôs walk through some of the files that were generated.

```code
‚îú‚îÄ‚îÄ node_modules/
‚îú‚îÄ‚îÄ src/
|   ‚îú‚îÄ‚îÄ app/
|   |   ‚îú‚îÄ‚îÄ app-routing.module.ts
|   |   ‚îú‚îÄ‚îÄ app.component.html
|   |   ‚îú‚îÄ‚îÄ app.component.less
|   |   ‚îú‚îÄ‚îÄ app.component.spec.ts
|   |   ‚îú‚îÄ‚îÄ app.component.ts
|   |   ‚îú‚îÄ‚îÄ app.module.ts
|   ‚îú‚îÄ‚îÄ assets/
|   ‚îú‚îÄ‚îÄ index.html
|   ‚îú‚îÄ‚îÄ main.ts
|   ‚îú‚îÄ‚îÄ styles.less
‚îú‚îÄ‚îÄ angular.json
‚îú‚îÄ‚îÄ package-lock.json
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ tsconfig.app.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ tsconfig.spec.json
```

### angular.json

This file is the config schema for an Angular Workspace. By default Angular configures esbuild (Webpack before v17) for its build process, and uses the `angular.json` file to store the build information.

(Note, prior to Angular v6, this file was `.angular-cli.json`. When migrating versions, having the wrong workspace config file name is a common cause for problems.)

### tsconfig.json

This file contains our TypeScript compiling options. Starting from Angular 12, ‚Äústrict mode‚Äù is set to true by default. Angular‚Äôs strict mode enforces the [TypeScript strict flag](https://www.staging-typescript.org/tsconfig#strict) and a few additional TypeScript rules: `forceConsistentCasingInFileNames`, `noImplicitReturns`, `noFallthroughCasesInSwitch`. Additionally this mode turns on Angular-specific compiler flags `strictTemplates`, `strictInjectionParameters` and `strictInputAccessModifiers`. This Template type checking was made available with [Angular Ivy](https://angular.io/guide/ivy) and will throw compiler errors for incorrect typings inside templates.

@sourceref ../../../exercises/angular/2-building-first-app/problem/tsconfig.json
@highlight 7,only

### src/main.ts

This is the entry point of our application, it compiles and bootstraps our app.

### src/index.html

This should feel familiar - our main index page. Our entry component is highlighted below.

@sourceref ../../../exercises/angular/2-building-first-app/problem/src/index.html
@highlight 11

### src/app/app.module.ts

This file is the root module for our app. Every Angular app has at least one module that determines how to compile and launch an app. It uses the @@NgModule decorator with four properties:

- **declarations** `[array]`: where we include components, directives, and pipes that will be used by this module.
- **imports** `[array]`: where we include any other modules our app needs to use. This may include 3rd party modules like bootstrap datepickers, or modules we‚Äôve created.
- **providers** `[array]`: where we include services that we want used at the global app level
- **bootstrap** `[array]`: where we include the root `AppComponent` - this is the main Application view that hosts all of our other app views.

Further reading: <a href="https://angular.io/guide/architecture-services#dependency-injection-di">Dependency Injection in Angular</a>

### src/app/app.component.ts

This is our root component, you saw it called in our index.html file as `<pmo-root></pmo-root>`

## Serving An Application

‚úèÔ∏è Serve the app with:

```shell
npm run start
```

The `start` script command value is `ng serve` which starts a development server on port `4200` by default using <a href="https://esbuild.github.io/">esbuild</a> and <a href="https://vitejs.dev/">Vite</a> (<a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> before v17), to compile and serve a development version of the app. Any TypeScript errors will be caught by the compiler here, and once ready we can view our app at <a href="http://localhost:4200">localhost:4200</a>. `ng serve` also has live-reload functionality, meaning the browser will automatically reload as changes are saved and compiled.

## Running Tests

When we use the CLI to create modules, components, services, etc, it will create spec files
for us.

‚úèÔ∏è Run tests in a **new** command line with:

```shell
npm run test
```

## How to verify your solution is correct

The change we needed to make for our tests to pass is on the highlighted line 37.

We also included `schemas` metadata for our module. <a href="https://angular.io/api/core/NO_ERRORS_SCHEMA">NO_ERRORS_SCHEMA</a> will keep the compiler from throwing errors when unknown components are included in the tested components. In unit tests we often only want to test the very small piece of code we‚Äôre working on and don‚Äôt care about deeply nested components <a href="https://medium.com/@fivedicephoto/why-you-shouldnt-use-no-errors-schema-in-angular-unit-tests-cdd478c30782">unless we‚Äôre testing the props in a parent/child component relationship</a>. For our purposes in this training, it‚Äôs safe to use here.

‚úèÔ∏è Update **src/app/app.component.spec.ts**:

@sourceref ../../../exercises/angular/2-building-first-app/problem/src/app/app.component.spec.ts
@highlight 1,15-17,37,only

## Solution

<details>
<summary>Click to see the solution</summary>
Let‚Äôs change the markup to look like the home page of our place my order app.

‚úèÔ∏è Update **src/app/app.component.html** to:

@diff ../../../exercises/angular/2-building-first-app/problem/src/app/app.component.html ./app.component.html

When you save your changes, you should see the new h1 tag in your browser at <a href="http://localhost:4200">localhost:4200</a>.
</details>
