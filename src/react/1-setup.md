@page learn-react/setting-up-environment Setting up your environment
@parent learn-react 1

@description Learn how to setup a React environment using create-react-app

@body

## The React Stack

In its simplest form, React is just a library, but when developing real world applications, React is best used in combination with several other technologies. Let's take a look at some of these below:

- **[Babel](https://babeljs.io/)** - Babel is a JavaScript transpiler which allows developers to use the latest ECMAScript features in a backwards compatible way. React relies on Babel specifically to transpile JSX (the syntax used to define component layouts) into executable JavaScript code.
- **[Webpack](https://webpack.js.org/)** - Webpack let's developers bundle their React components and apps into small, easily servable bundles which can be downloaded and run when the user's webpage loads. Additionally, Webpack can be configured for live-reloading during development.
- **[Jest](https://jestjs.io/)** - Jest is [the most popular](https://www.npmtrends.com/ava-vs-jasmine-vs-jest-vs-mocha-vs-qunit) JavaScript testing library. It is built by the people behind React and can be used to test React components very easily. 

Besides the three highlighted above, there are many other technologies which can make developing in React a better experience.

While it is possible to configure a codebase which integrates all of them together, the React team provide a tool to to do this for you. It is called [Create React App](https://github.com/facebook/create-react-app).

## Create React App

Create React App is a NodeJS package provided by Facebook (creators of React) which gives developers the ability to scaffold out a foundation for React apps that follows industry best practices.

It also acts as a defacto standard for how React apps should be structured and organized. For example, most professional React developers could jump into a codebase generated by Create React App and feel right at home (with the configuration and commands that are provided).

✏️ Install Create React App via NPM as a global dependency:

```bash
npm install -g create-react-app
```

✏️ Once installed, create an app using the npx command:

```bash
npx create-react-app myapp
cd myapp
```

The above will create a new app named `myapp` in a folder with the same name under the current working directory.

### Looking at Our Generated Project

Let's walk through some of the files that were generated.

```code
├── node_modules
├── public/
├── src/
├── .gitignore
├── package.json
├── README.md
├── yarn.lock/package-lock.json (depends if you're using yarn or npm)
```

**/public**

The public folder contains static assets which will be served up as part of your website. You can include stylesheets, images and other static files. The most important file here is `index.html`, which is the page React will render all of its contents to by default.

Generally however, you shouldn't need to touch this folder too much. Anything put inside it will be simply copied as is into the `build` directory during compilation. 

**/src**

The `src` folder is where you'll store all your React components and generally just all of the code for your app. This should already be seeded with a small sample app (you can safely delete any of these files), but the most important file is `index.js`.

It's in `index.js` where our React app is initialized and we attach it to `index.html`.

```jsx
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

// Connects React to the DOM via ReactDOM
ReactDOM.render(<App />, document.getElementById('root'))
```

**package.json**

The `package.json` file is intentionally very small, and includes only a few dependencies by default:

```json
"@testing-library/jest-dom": "^4.2.4",
"@testing-library/react": "^9.3.2",
"@testing-library/user-event": "^7.1.2",
"react": "^16.13.1",
"react-dom": "^16.13.1",
"react-scripts": "3.4.1"
```

The most important thing here are the scripts:

```json
"scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
},
```

Create React App provides a set of scripts (`react-scripts`) which know how to start, build and test your app. It's generally recommended to leave these as-is, a lot of work has been put into these scripts to ensure the best developer experience possible.

The final script included, `eject` is very important. Create React App, by default, will hide all of the configuration files and the transitive dependencies (Webpack, Babel, EsLint, etc). If you run the `eject` command all of these will be dumped into your project, giving you full control.

> Note that ejecting is generally **not** recommended unless absolutely necessary.

## Version Control

Create React App will automatically initialize the new folder as a git repository, which can be checked into source control just like any other project.

### Deployment

One of the benefits of using `react-scripts` is it's great build process. When you run the `npm run build` command, your site will automatically be bundled, minified, and written into a `build` folder. 

This folder can then be uploaded to any web-server and served statically just like a normal HTML website, no fancy webserver or processes needed.

### Try it out

✏️ Fork or clone the tic-tac-toe app we'll be building in this training from [github](https://github.com/bitovi/react-exercises). 

Make sure you're on the master branch, and after running `npm install` run `npm run build`. This will build the site and create a `build` folder. Check out the files that got generated, notice how they're nicely minified and bundled!

More information on the build folder and on deployment in general can be found on the create-react-app [website](https://create-react-app.dev/docs/deployment/).
