<!-- index.stache -->
<can-import from="~/components/todo-create/" />
<can-import from="~/components/todo-list/" />
<can-import from="can-stache-route-helpers" />
<section id="todoapp">
    <header id="header">
        <h1>{{ this.appName }}</h1>
        <todo-create/>
    </header>
    <section id="main" class="">
        <input id="toggle-all" type="checkbox"
          checked:bind="this.allChecked"
          disabled:from="this.todosList.saving.length" />
        <label for="toggle-all">Mark all as complete</label>
        <todo-list todos:from="this.todosList" />
    </section>
    <footer id="footer" class="">
        <span id="todo-count">
            <strong>{{ allTodos.active.length }}</strong> items left
        </span>
        <ul id="filters">
            <li>
                <a href="{{ routeUrl(filter=undefined) }}"
                    {{# routeCurrent(filter=undefined) }}class='selected'{{/ routeCurrent }}>
                    All
                </a>
            </li>
            <li>
                <a href="{{ routeUrl(filter='active') }}"
                    {{# routeCurrent(filter='active') }}class='selected'{{/ routeCurrent }}>
                    Active
                </a>
            </li>
            <li>
                <a href="{{ routeUrl(filter='complete') }}"
                    {{# routeCurrent(filter='complete') }}class='selected'{{/ routeCurrent }}>
                    Completed
                </a>
            </li>
        </ul>
        <button id="clear-completed"
            on:click="allTodos.destroyComplete()">
            Clear completed ({{ allTodos.complete.length }})
        </button>
    </footer>
</section>
