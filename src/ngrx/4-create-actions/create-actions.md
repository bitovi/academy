@page learn-ngrx/create-actions Creating Actions
@parent learn-ngrx 4

@description Learn how to create NgRx actions.

@body

> **Quick Start**: You can checkout [this branch](https://github.com/bitovi/angular-ngrx-chat/tree/ngrx-init) to get your codebase ready to work on this part.

## Overview

1. Remove generated Actions

2. Clean up code involving removed Actions

3. Create login and logout Actions

## Problem 1: Create Login Actions to Represent Login Events

NgRx Schematics generated Actions with the following Action Types: `[Login] Load Logins`, `[Login] Load Logins Success` and `[Login] Load Logins Failure`.

Our goal is to have a different set of Action instead:

1. `login` - dispatched when user submits username and password
    - type: `[Login Page] Login`
    - props: `{ username: string, password: string }`
2. `loginSuccess` - dispatched by an Effect when user has successfully logged in
    - type: `[Login API] Login Success`
    - props: `{ userId: string; username: string; token: string }`
3. `loginFailure` - dispatched by an Effect when user login attempt fails
    - type: `[Login API] Login Failure`
    - props: `{ errorMsg: string }`
4. `logout` - dispatched when user clicks on a logout button
    - type: `[Dashboard Page] Logout`
5. `logoutSuccess` - dispatched by an Effect when the user has successfully logged out
    - type: `[Login API] Logout Success`
6. `logoutFailure` - dispatched by an Effect when user logout attempt fails
    - type: `[Login API] Logout Failure`
    - props: `{ errorMsg: string }`

## P1: What You Need to Know

Action Types in NgRx follow a string pattern: `[Source] Event`. Since Actions represent a unique event, an Action Type should be a unique identifier for that event. NgRx encourages Actions to be unique in order to help with application debugging, traceability and maintainability. [Here’s a great presentation about Action Best Practices](https://www.youtube.com/watch?v=JmnsEvoy-gY) from Mike Ryan, co-creator of NgRx.

The code example below shows the usage of the createAction function as generated by NgRx Schematics:

@sourceref ../3-ngrx-init/login.actions.ts

`createAction` can take up to two arguments: the string `type` and a `config` function that represents additional metadata, usually referred as `props` in Redux Pattern.

## P1: Solution

TODO

## Problem 2: Create Auth State Interface and Initial State

Now that our Actions are defined, we need to set up the Auth State and its Initial State to enable to perform updates to the state later.

We’ll define the following members of the Auth’s State interface:

- `userId: string | null`;
- `username: string | null`;
- `token: string | null`;

As for the `initialState`, members should start with `null` values.

## P2: What You Need to Know

NgRx Schematics generated an empty State interface and an `initialState` variable of type `State`.

--Show login.reducer.ts here--

Update the `State` interface and the `initialState` variable to match requirements.

## P2: Solution

--Show result of login.reducer.ts here--

> **Wrap-up**: By the end of this part, your code should match [this branch](https://github.com/bitovi/angular-ngrx-chat/tree/create-actions).You can also compare the [code changes for our solution to this part](https://github.com/bitovi/angular-ngrx-chat/compare/ngrx-init...create-actions) on GitHub.
